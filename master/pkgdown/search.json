[{"path":"/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2023 BioCro authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"/about_pkgdown_documentation.html","id":null,"dir":"","previous_headings":"","what":"About this documentation","title":"About this documentation","text":"document generated version BioCro specified follows: Commit Hash: e92aa89 Commit Date: Wed, 12 Jul 2023 11:12:46 -0500 Branch: master Generation Date Time: Wed Jul 12 16:17:07 UTC 2023","code":""},{"path":"/articles/BioCro-II_Paper--Section-1.1-example.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"BioCro II Paper: Section 1.1 Example","text":"demonstration example discussed Section 1.1 Appendix 1 BioCro II paper (Lochocki et al. 2022). corrections clarifications exposition given paper given comments .","code":""},{"path":"/articles/BioCro-II_Paper--Section-1.1-example.html","id":"the-code","dir":"Articles","previous_headings":"","what":"The Code","title":"BioCro II Paper: Section 1.1 Example","text":"","code":"library(BioCro) library(lattice) library(knitr) # for kable(), which yields nicer-looking tables  ## customized version of kable with defined options: columns_to_print <- c('time', 'Q', 'mass_gain', 'Root', 'Leaf') show_row_number <- FALSE format <- list(scientific = FALSE, digits = 7) cable <- function(x, ...) {    kable(x[, columns_to_print],          row.names = show_row_number,          format.args = format,          ...) }  ## Set plotting character globally trellis.par.set(\"plot.symbol\", list(pch = '.'))  ################################################################################  parameters <- list(     alpha_rue = 0.07, # kg / mol     SLA = 25,         # m^2 / kg     C_conv = 0.03,    # kg / mol     f_leaf = 0.2,     # kg / kg     f_root = 0.8,     # kg / kg     timestep = 1      # s )  initial_values <- list(     Leaf = 1, # kg     Root = 1  # kg )  Q <- function(time) sin(time/3600/12 * pi) * 2000e-6 # mol / m^2 / s  times <- 0:(3600 * 12) # seconds  light_intensity <- data.frame(     time = times,     Q = Q(times) )  result <- run_biocro(     initial_values,     parameters,     light_intensity,     'BioCro:example_model_mass_gain',     'BioCro:example_model_partitioning' )  xyplot(Q ~ time, data = result, xlab = \"time (s)\", ylab = \"Q (mol / m^2 / s)\")  xyplot(Leaf ~ time, data = result, xlab = \"time (s)\", ylab = \"Leaf (kg)\")"},{"path":[]},{"path":"/articles/BioCro-II_Paper--Section-1.1-example.html","id":"the-formula-for-the-driver","dir":"Articles","previous_headings":"The Code > A few comments","what":"The formula for the driver","title":"BioCro II Paper: Section 1.1 Example","text":"somewhat plausible mechanistic model photosynthetic photon flux density Q due sun give roughly proportional sine angle sun makes horizon. Assuming 12 hours daylight, sun passing directly overhead (condition approximately holds equator equinox), angle (measured radians) approximately time/3600/12 * pi, time number seconds elapsed since sunrise. (, angle greater pi/2 taken angle position sun measured position sunrise; value thus takes maximum value pi sunset.) Assuming maxumum flux density 2000e-6 mol / m^2 /s (attained solar noon sine 1) yields function given Q. Note instead supplying Q driver, instead written direct module computed Q time day. latter , example, driver.","code":""},{"path":"/articles/BioCro-II_Paper--Section-1.1-example.html","id":"the-timestep-parameter","dir":"Articles","previous_headings":"The Code > A few comments","what":"The timestep parameter","title":"BioCro II Paper: Section 1.1 Example","text":"Note timestep value given parameters seconds. also note almost differential modules BioCro library assume timestep values given hours! timestep value given seconds rather hours, three important things must kept mind: differential modules used simulation must assume timestep value given seconds. Another way saying outputs differential modules used represent rate change output quantities per second. almost cases, output columns “doy”, “hour”, possibly “time” won’t make sense (filtered ) ignored. almost cases, module time input used. (See discussion.) precepts apply, mutatis mutandi, timestep units one may wish use. always, difference time row n drivers dataframe row n + 1 immediately follows equal “timestep” (whatever units timestep given).","code":""},{"path":"/articles/BioCro-II_Paper--Section-1.1-example.html","id":"first-modification-24-hour-simulation","dir":"Articles","previous_headings":"","what":"First modification: 24 hour simulation","title":"BioCro II Paper: Section 1.1 Example","text":"Although paper stated “Light intensity given table values every second 24-h period,”, period actually 12 hours (time ranges 0 3600 × 12 seconds = 12 hours). noted , purposes example, may assumed time ranges sunrise sunset 12-hour day “time” represents number seconds elapsed since sunrise. Alternatively, assumed time range 24-hour period starting ending solar midnight, Q zero sunrise sunset. entails slight modification defining equations: (“− 6” adjusts phase sine function positive values correspond daylight hours, assumed begin 6 .m. solar time.) 24-hour version example look. rows result table printed significant portions day: beginning, just midnight, dark mass accumulation; dawn, rate mass accumulation first becomes non-zero; noon, flux Q highest; dusk, rate mass accumulation drops zero; end simulation, final leaf root mass known. noted , values result doy hour nonsensical context example filtered (along ncalls, particular interest). values time column interpreted number elapsed seconds solar midnight (number (fractional) days elapsed since midnight start December 31, correct interpretation “normal” BioCro simulation). following graphs, changed labeling x axis time shown hours rather seconds.","code":"times <- 0:(3600 * 24) # seconds  Q <- function(time) pmax(0, sin((time/3600 - 6)/12 * pi) * 2000e-6) # mol / m^2 / s times <- 0:(3600 * 24) # seconds  Q <- function(time) {     pmax(0, sin((time/3600 - 6)/12 * pi) * 2000e-6) # mol / m^2 / s }  light_intensity <- data.frame(     time = times,     Q = Q(times) )  result <- run_biocro(     initial_values,     parameters,     light_intensity,     'BioCro:example_model_mass_gain',     'BioCro:example_model_partitioning' )  ## cable = customized version of kable (see above) ## kable = (nicely-formatted) knitr table cable(result[1:4,]) # beginning cable(result[seq(21591, 21661, 10),]) # around dawn cable(result[43199:43203,]) # around mid day cable(result[seq(64741, 64811, 10),]) # around dusk cable(result[86398:86401,]) # end xyplot(Q ~ time / 3600, data = result, xlim = c(0, 24), xlab = \"time (in hours)\", ylab = \"Q (mol / m^2 / s)\")  xyplot(Leaf ~ time / 3600, data = result, xlim = c(0, 24), xlab = \"time (in hours)\", ylab = \"Leaf (kg)\")"},{"path":"/articles/BioCro-II_Paper--Section-1.1-example.html","id":"second-modification-changing-the-time-specification-from-seconds-to-days","dir":"Articles","previous_headings":"","what":"Second modification: Changing the time specification from seconds to days","title":"BioCro II Paper: Section 1.1 Example","text":"usual assumption BioCro time quantity represents time, days, beginning year, number seconds elapsed start simulation. (precisely, integral part time value day year, counting one, fractional part portion day elapsed since midnight begining day. Thus time = 4.25 occur 6 .m. January 4.) follows, , way using time variable previous examples inconsistent usual interpretation time two respects: First, units seconds rather days. Second, time represented amount time elapsed beginning simulation rather “absolute” time, , time value specifying specific time day specific day year. (great harm using time variable unconventional way previous examples, long know long aren’t using modules assume conventional interpretation time variable. fact, simulations ones, result table arguably readable time value seconds hours rather days.) first inconsistencies easily remedied rescaling time values instead running 0 86400 (seconds), run 0 1 (days): simply divide former time value 86400. Now, value time increases 1/86400 (day!) row row (amount still corresponding one second):","code":"light_intensity <- data.frame(     time = times/86400,     Q = Q(times) )  result <- run_biocro(     initial_values,     parameters,     light_intensity,     'BioCro:example_model_mass_gain',     'BioCro:example_model_partitioning' )  cable(result[1:4,]) # beginning cable(result[seq(21591, 21661, 10),]) # around dawn cable(result[43199:43203,]) # around mid day cable(result[seq(64741, 64811, 10),]) # around dusk cable(result[86398:86401,]) # end xyplot(Q ~ 24 * time, data = result, xlim = c(0, 24), xlab = \"hour\", ylab = \"Q (mol / m^2 / s)\")  xyplot(Leaf ~ 24 * time, data = result, xlim = c(0, 24), xlab = \"hour\", ylab = \"Leaf (kg)\")"},{"path":"/articles/BioCro-II_Paper--Section-1.1-example.html","id":"third-modification-making-the-time-variable-consistent-with-a-reasonable-time-of-year","dir":"Articles","previous_headings":"","what":"Third modification: Making the time variable consistent with a reasonable time of year","title":"BioCro II Paper: Section 1.1 Example","text":"simulation just shown takes care making time step consistent time duration represented time column usual interpretation. time value 0 corresponds (conventional BioCro interpretation) midnight start December 31, consistent sun passing directly overhead course 12 hour day, even equatorial location. may remedy shifting time values forward 79 days time March equinox. Now time represents just duration days, precisely, represents number (fractional) days elapsed since midnight start December 31 previous year. Direct modules rely meaning time, solar_position_michalsky, now used wished. (still can mix derivative modules, thermal time modules, use time input, since , unlike example_model_partitioning module using, assume timestep value hours, seconds.)","code":"light_intensity <- data.frame(     time = times/86400 + 79,     Q = Q(times) )  result <- run_biocro(     initial_values,     parameters,     light_intensity,     'BioCro:example_model_mass_gain',     'BioCro:example_model_partitioning' )   cable(result[1:4,]) # beginning cable(result[seq(21591, 21661, 10),]) # around dawn cable(result[43199:43203,]) # around mid day cable(result[seq(64741, 64811, 10),]) # around dusk cable(result[86398:86401,]) # end xyplot(Q ~ 24 * (time - 79), data = result, xlim = c(0, 24), xlab = \"hour of the 79th day of the year\\n(March 20)\", ylab = \"Q (mol / m^2 / s)\")  xyplot(Leaf ~ 24 * (time - 79), data = result, xlim = c(0, 24), xlab = \"hour of the 79th day of the year\\n(March 20)\", ylab = \"Leaf (kg)\")"},{"path":[]},{"path":"/articles/avoiding_pitfalls_fvcb.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Avoiding Pitfalls When Using the FvCB Model","text":"Farquhar-von-Caemmerer-Berry (FvCB) model C3 photosynthesis first presented Farquhar et al. (1980), since initial publication, become one important models understanding photosynthetic response plants key environmental variables incident light, CO2, temperature. Many researchers familiar model contex fitting experimentally measured CO2 response curves, certain simplifying assumptions can reasonably applied model. However, assumptions reasonable using model wider range conditions usually encountered gas exchange measurements. goal document identify several possible pitfalls associated assumptions explain avoid using FvCB model.","code":""},{"path":"/articles/avoiding_pitfalls_fvcb.html","id":"sec:centraleq","dir":"Articles","previous_headings":"","what":"The Central FvCB Equation","title":"Avoiding Pitfalls When Using the FvCB Model","text":"FvCB model rooted biochemical understanding photosynthetic process, especially carboxylation (oxygenation) RuBP enzyme Rubisco. core, predicts net CO2 assimilation rate (\\(A_n\\)) values several key variables. initial equation \\(A_n\\) can developed following considerations: One carboxylation RuBP assimilates one molecule CO2. Two oxygenations RuBP produces hazardous byproducts require release one molecule CO2 neutralize. (Oxygenation RuBP often referred photorespiration.) Mitochondrial respiration also releases CO2 molecules. Putting together, can write initial equation net assimilation rate: \\[\\begin{equation} A_n = V_c - 0.5 \\cdot V_o - R_d, \\tag{2.1} \\end{equation}\\] \\(V_c\\) RuBP carboxylation rate, \\(V_o\\) RuBP oxygenation rate, \\(R_d\\) mitochondrial respiration rate. written, \\(V_c\\), \\(V_o\\), \\(R_d\\) non-negative rates, typically units \\(\\mu\\)mol m\\(^{-2}\\) s\\(^{-1}\\). first two terms equation (\\(V_c - 0.5 \\cdot V_o\\)) represent contribution photosynthesis (Rubisco) net CO2 assimilation, remaining term (\\(-R_d\\)) result mitochondrial respiration, separate process. current form, equation easy interpret use. modifications can use improve . One change introduce \\(\\phi\\), ratio RuBP oxygenation carboxylation: \\(\\phi = V_o / V_c\\). Now can rewrite Equation (2.1) follows: \\[\\begin{equation} A_n = V_c \\cdot \\left( 1 - 0.5 \\cdot \\phi \\right) - R_d. \\tag{2.2} \\end{equation}\\] version equation makes clear \\(\\phi\\) plays key role determining whether RuBP carboxylation able outweigh oxygenation; words, determines whether photosynthetic contribution net CO2 assimilation rate positive negative. \\(1 - 0.5 \\cdot \\phi < 0\\), oxygenation consumes carbon carboxylation produces; \\(1 - 0.5 \\cdot \\phi > 0\\), opposite true. crossover point carboxylation oxygenation exactly cancel occurs \\(1 - 0.5 \\cdot \\phi = 0\\). can shown \\(\\phi\\) depends relative specificity Rubisco CO2 versus O2 (\\(S_{c/o}\\)), partial pressure CO2 vicinity Rubisco (\\(C\\)), partial pressure O2 vicinity Rubisco (\\(O\\)): \\[\\begin{equation} \\phi = \\frac{1}{S_{c/o}} \\cdot \\frac{O}{C}. \\tag{2.3} \\end{equation}\\] (See, example, Equation 2.16 von Caemmerer (2000) surrounding discussion.) Equation (2.3) tells us amount CO2 near Rubisco increases, Rubisco’s specificity CO2 increases, \\(\\phi\\) decreases hence oxygenation rate also decreases. makes sense intuitive level. also helps clarify criteria photosynthesis become net producer assimilated carbon. One immediate conclusion Rubisco specificity oxygen levels generally constant particular chloroplast, reasonable way change \\(\\phi\\) change \\(C\\). can still learn . already seen crossover occurs \\(1 - 0.5 \\cdot \\phi = 0\\) , equivalently, \\(\\phi = 2\\). Now, can rewrite condition using (2.3): \\[\\begin{equation} \\phi = 2 \\\\ \\rightarrow \\frac{1}{S_{c/o}} \\cdot \\frac{O}{C} = 2 \\\\ \\rightarrow C = \\frac{O}{2 \\cdot S_{c/o}}. \\end{equation}\\] words, photosynthesis net producer carbon whenever \\(C\\) exceeds special value called \\(\\Gamma^*\\) defined : \\[\\begin{equation} \\Gamma^* = \\frac{O}{2 \\cdot S_{c/o}}. \\tag{2.4} \\end{equation}\\] \\(\\Gamma^*\\) often referred “CO2 compensation point absence mitochondrial respiration.” (general, term “CO2 compensation point” refers value \\(C\\) \\(A_n = 0\\).) Note since atmospheric oxygen levels fairly constant, \\(O\\) rarely changes conditions, \\(\\Gamma^*\\) largely property Rubisco; specifically, depends primarily \\(S_{c/o}\\). (major exception \\(O\\) artificially decreased gas exchange measurements order reduce \\(V_o\\).) new concept, can use Equations (2.3) (2.4) rewrite Equation (2.2) follows: \\[\\begin{equation} A_n = V_c \\cdot (1 - \\Gamma^* / C) - R_d \\tag{2.5} \\end{equation}\\] equation contains great deal useful information, refer central equation FvCB model. (terminology, standard name equation.) can found many notable descriptions FvCB model, : Equation 16.57 Farquhar von Caemmerer (1982). Equation 1 Kirschbaum Farquhar (1984). Equation 2.19 von Caemmerer (2000). Equation A6 von Caemmerer (2013). (big exception original FvCB paper (Farquhar et al. 1980), contain equation!) key piece information can learned equation RuBP carboxylation rate \\(V_c\\) can never negative, contribution photosynthesis net assimilation rate (\\(V_c \\cdot(1 - \\Gamma^* / C)\\)) can negative; occur whenever \\(V_c > 0\\) \\(C < \\Gamma^*\\). rest FvCB model consists method calculating \\(V_c\\); discussed following sections.","code":""},{"path":"/articles/avoiding_pitfalls_fvcb.html","id":"choosing-a-carboxylation-rate","dir":"Articles","previous_headings":"","what":"Choosing a Carboxylation Rate","title":"Avoiding Pitfalls When Using the FvCB Model","text":"original FvCB model, two scenarios considered determining RuBP carboxylation rate \\(V_c\\): plenty RuBP available Rubisco act upon, carboxylation rate said RuBP-saturated (Rubisco-limited). case, common denote carboxylation rate \\(W_c\\). equation \\(W_c\\) derivation can found many places, Equation 1.9 von Caemmerer (2000) surrounding discussion. Following carboxylation oxygenation, RuBP molecule must “regenerated,” , returned original state ready another carboxylation oxygenation. RuBP regeneration rate slow, may impose new maximum carboxylation rate, said RuBP-regeneration-limited. case, common denote carboxylation rate \\(W_j\\). equation \\(W_j\\) derivation can found many places, Equations 2.21 2.22 von Caemmerer (2000) surrounding discussion. Sometimes rate referred electron-transport-limited rate, terminology becoming less common since realized factors besides electron transport can limit RuBP regeneration. brevity, simply reproduce equations without derivations: \\[\\begin{equation} W_c = \\frac{V_{cmax} \\cdot C}{C + K_c \\cdot \\left( 1 + O / K_o \\right)} \\tag{3.1} \\end{equation}\\] \\[\\begin{equation} W_j = \\frac{J \\cdot C}{4 \\cdot C + 8 \\cdot \\Gamma^*}, \\tag{3.2} \\end{equation}\\] \\(V_{cmax}\\) maximum rate Rubisco carboxylation activity, \\(K_c\\) \\(K_o\\) Michaelis-Menten constants CO2 O2, \\(J\\) RuBP regeneration rate, may depend several external factors incident irradiance. \\(V_{cmax}\\), \\(K_c\\), \\(K_o\\) positive, \\(J\\) non-negative. Note several different versions Equation (3.2) can found literature, changes coefficients denominator (\\(4\\) \\(8\\) version; see Equation 16.60 Farquhar von Caemmerer (1982) Section 2.4.2 von Caemmerer (2000) information). coefficients related energy requirements involved electron transport chain, different estimates exist requirements. differences, coefficients can sometimes considered variables equation instead taking fixed values. One significant feature Equations (3.1) (3.2) neither one can ever return negative value, expected (required) equation calculates carboxylation rate. Another important thing notice \\(V_{cmax}\\), \\(K_c\\), \\(K_o\\), \\(O\\), \\(\\Gamma^*\\) generally constant within chloroplast, main environmental influences \\(W_c\\) \\(W_j\\) \\(C\\) \\(J\\). \\(C\\) \\(J\\) vary, one \\(W_c\\) \\(W_j\\) may become larger two. point, key question needs addressed: carboxylation rate (\\(W_c\\) \\(W_j\\)) used Equation (2.5) determine net CO2 assimilation rate? FvCB authors provide answer: choose whichever rate smaller current set conditions (specified \\(C\\), \\(J\\), etc). Intuitively, makes sense. doesn’t matter many RuBP molecules carboxylated Rubisco RuBP regenerated fast enough; alternatively, doesn’t matter many RuBP molecules regenerated Rubisco unable carboxylate . Converting idea mathematical form, arrive another essential equation: \\[\\begin{equation} V_c = \\min \\{ W_c, W_j \\} \\tag{3.3} \\end{equation}\\] common way choose rates, produce sudden transitions RuBP-saturated RuBP-regeneration-limited carboxylation. Sometimes alternatives simple minimum used, quadratic mixing method, produce smoother transitions. example, see Kirschbaum Farquhar (1984).","code":""},{"path":"/articles/avoiding_pitfalls_fvcb.html","id":"sec:pitfallci","dir":"Articles","previous_headings":"3 Choosing a Carboxylation Rate","what":"Pitfall: Limitations at Low CO2 Concentration","title":"Avoiding Pitfalls When Using the FvCB Model","text":"People familiar analyzing experimentally measured -Ci curves may impression low \\(C\\), carboxylation (hence net CO2 assimilation) always RuBP-saturated (Rubisco-limited). , “low \\(C\\)” may mean \\(\\Gamma^*\\), CO2 compensation point, possibly threshold. example, paper excellent discussion C3 -Ci curve fitting (Sharkey et al. 2007) includes following discussion limitations assimilation: routine described requires identifying whether data point limited Rubisco, RuBP regeneration TPU. good starting point assign points 30 Pa RuBP-regeneration-limited points 20 Pa Rubisco-limited; points 20 30 Pa might either. may good advice interpreting -Ci curve, generally true, instead relies unstated assumption \\(J\\) quite high (assumption often met measuring -Ci curve). nothing FvCB model equations (Equations (2.5), (3.1), (3.2), (3.3)) enforces \\(W_c < W_j\\) threshold value \\(C\\). fact, simple counterexample demonstrating situation \\(W_j < W_c\\) low \\(C\\): darkness. Darkness ensures \\(J = 0\\) hence \\(W_j \\leq W_c\\) values \\(C\\). possible find point process limiting carboxylation rate changes; can done setting \\(W_c = W_j\\) solving \\(C\\). result given Equation 2.52 von Caemmerer (2000), special value \\(C\\) called \\(C_c\\): \\[\\begin{equation} C_c = \\frac{K_c \\cdot \\left( 1 + O / K_o \\right) \\cdot J / \\left( 4 \\cdot V_{cmax} \\right) - 2 \\cdot \\Gamma^*}{1 - J / \\left( 4 \\cdot V_{cmax} \\right)} \\tag{3.4} \\end{equation}\\] physical point view, \\(C_c\\) negative; however, Equation (3.4) can mathematically produce negative values \\(C_c\\). happens, simply means crossover, one process limits carboxylation realistic values \\(C\\). occurs whenever denominator numerator opposite signs. denominator becomes negative \\(4 \\cdot V_{cmax} < J\\). situation \\(V_{cmax}\\) small carboxylation always RuBP-saturated. hand, numerator becomes negative \\(J < 8 \\cdot V_{cmax} \\cdot \\Gamma^* / \\left[ K_c \\cdot \\left( 1 + O / K_o \\right) \\right]\\). situation \\(J\\) small carboxylation always RuBP-regeneration-limited. (course, \\(C_c\\) positive numerator denominator negative, unlikely happen realistic values \\(K_c\\), \\(K_o\\), \\(O\\), \\(\\Gamma^*\\).) Even \\(C_c\\) positive, may realistically obtainable; example, \\(J\\) just tiny bit smaller \\(4 \\cdot Vcmax\\), \\(C_c\\) can take large values achievable gas evironment nearly pure CO2. Essentially, analysis Equation (3.4) tells us simple rule determining process limits carboxylation FvCB model, even possible crossover limiting processes may occur (see Figure 3.1). Figure 3.1: Solution space Equation (3.4) indicating crossover impossible Cc negative (pink), unlikely Cc large (dark blue), otherwise possible (white). upper pink region bounded Vcmax = J * [ Kc * (1 + O / Ko)] / (8 * GammaStar) lower pink region bounded Vcmax = J / 4. calculation, Kc = 259 microbar, O = 200 mbar, Ko = 179 mbar, GammaStar = 38.6 microbar, Cc considered large exceeds 2000 microbar.","code":""},{"path":"/articles/avoiding_pitfalls_fvcb.html","id":"sec:pitfallassim","dir":"Articles","previous_headings":"3 Choosing a Carboxylation Rate","what":"Pitfall: Choosing Minimal Assimilation Rates","title":"Avoiding Pitfalls When Using the FvCB Model","text":"carboxylation RuBP-saturated, corresponding net CO2 assimilation rate (called \\(A_c\\) rather \\(A_n\\) indicate type limitation) can found combining Equations (2.5) (3.1) follows: \\[\\begin{equation} A_c = W_c \\cdot (1 - \\Gamma^* / C) - R_d = \\frac{V_{cmax} \\cdot \\left( C - \\Gamma^* \\right)}{C + K_c \\cdot \\left( 1 + O / K_o \\right)} - R_d. \\tag{3.5} \\end{equation}\\] Likewise, carboxylation RuBP-regeneration-limited, corresponding net CO2 assimilation rate (called \\(A_j\\)) can found combining Equations (2.5) (3.2) follows: \\[\\begin{equation} A_j = W_j \\cdot (1 - \\Gamma^* / C) - R_d = \\frac{J \\cdot \\left( C - \\Gamma^* \\right)}{4 \\cdot C + 8 \\cdot \\Gamma^*} - R_d. \\tag{3.6} \\end{equation}\\] mind, FvCB model sometimes expressed following form, bit simpler using version bypasses separate calculation carboxylation rates requires three equations instead four: \\[\\begin{equation} A_n = \\min \\{ A_c, A_j \\}. \\tag{3.7} \\end{equation}\\] equation can found many publications, earliest instance may Equation A1 Collatz et al. (1991). paper, authors state Equation (A1) equivalent form proposed Kirschbaum Farquhar (1984), definitions \\(J_C\\), \\(J_E\\), \\(J_S\\) differ somewhat . (Note Kirschbaum Farquhar (1984) uses \\(W_c\\) \\(W_j\\), mentioned .) Unfortunately, claim paper simply untrue Equations (2.5) (3.3) produce different results Equation (3.7). see , suppose \\(W_c < W_j\\) \\(C < \\Gamma^*\\). case, \\(\\min \\{ W_c, W_j \\} = W_c\\) \\(A_n = A_c\\) according FvCB model. However, \\(1 - \\Gamma^* / C\\) negative, \\(A_c = W_c \\cdot \\left( 1 - \\Gamma^* / C \\right) - R_d\\) also negative. Likewise, \\(A_j\\) negative, magnitude larger \\(A_c\\) \\(W_c < W_j\\). , case, \\(\\min \\{ A_c, A_j \\} = A_j\\). Thus, Equation (3.7) chosen incorrect limiting factor. fact, Equation (3.7) always chooses wrong limiting factor \\(C < \\Gamma^*\\). Equation (3.7) implemented computer code aid fitting -Ci curves simulating photosynthesis, often paired additional condition like (Aj < 0) {Aj = 0}. attempt fix problem Equation (3.7) choosing wrong limiting factor low \\(C\\). Unfortunately, solution based another misunderstanding incorrectly assumed carboxylation always RuBP-saturated low \\(C\\) (see Section 3.1). Although “partial solution” might cause problems fitting -Ci curves, produce FvCB model’s true output \\(J\\) low. subtle issue \\(C < \\Gamma^*\\), better avoid Equation (3.7) favor Equations (2.5) (3.3). Although Equation (3.7) may seem like simply alternative way specify FvCB model, actually , accurate consider separate “pseudo-FvCB” model, term continue use rest document. Examples comparing FvCB model pseudo-FvCB model can found Section 6.","code":""},{"path":"/articles/avoiding_pitfalls_fvcb.html","id":"including-triose-phosphate-utilization","dir":"Articles","previous_headings":"","what":"Including Triose Phosphate Utilization","title":"Avoiding Pitfalls When Using the FvCB Model","text":"sum chemical reactions Calvin–Benson–Bassham (CBB) cycle can written \\[\\begin{multline} \\qquad 3 \\, \\mathrm{CO_2} + 6 \\, \\mathrm{NADPH} + 6 \\, \\mathrm{H^+} +  9 \\, \\mathrm{ATP} + 5 \\, \\mathrm{H_2O} \\rightarrow \\\\ \\mathrm{(G3P)} + 6 \\, \\mathrm{NADP^+} + 9 \\, \\mathrm{ADP} + 8 \\, \\mathrm{P_i}, \\qquad \\tag{4.1} \\end{multline}\\] G3P refers glyceraldehyde 3-phosphate (also known triose phosphate) Pi refers inorganic phosphate (ion). molecule ATP synthesized three inorganic phosphate ions; thus, CBB reaction requires nine Pi ions, eight remain free end. missing inorganic phosphate contained triose phosphate molecule, exported chloroplast eventually used form monosaccharide sugars. Since CBB reaction requires three CO2 molecules, originate RuBP carboxylation, can see carboxylation effectively consumes one third inorganic phosphate. separately considering impact RuBP oxygenation (included ), can shown overall rate inorganic phosphate consumption photosynthesis (\\(R_{pc}\\)) can given \\[\\begin{equation} R_{pc} = \\frac{V_c}{3} - \\frac{V_o}{6} - \\frac{\\alpha \\cdot V_o}{2}, \\end{equation}\\] \\(0 \\leq \\alpha \\leq 1\\) fraction glycolate carbon returned chloroplast (see Section 2.4.3 von Caemmerer (2000)). Section 2, can use \\(V_o = \\phi \\cdot V_c\\) \\(\\phi / 2 = \\Gamma^* / C\\) rewrite equation terms \\(\\Gamma^*\\) \\(C\\): \\[\\begin{equation} R_{pc} = \\frac{V_c}{3 \\cdot C} \\cdot \\left[ C - \\Gamma^* \\left( 1 + 3 \\cdot \\alpha \\right) \\right].  \\tag{4.2} \\end{equation}\\] inorganic phosphate supply replenished triose phosphate used form sugars; although happens elsewhere, inorganic phosphate liberated reaction returned chloroplast. circumstances, rate triose phosphate utilization (TPU) slow enough limit inorganic phosphate available use choloroplast photosynthesis; case, carboxylation rate said TPU-limited \\(R_{pc} = T_p\\), \\(T_p\\) rate triose phosphate utilization. expression \\(R_{pc}\\) Equation (4.2) can substuted \\(R_{pc} = T_p\\) solved corresponding carboxylation rate, referred \\(W_p\\) case: \\[\\begin{equation} W_p = \\frac{3 \\cdot T_p \\cdot C}{C - \\Gamma^* \\cdot \\left( 1 + 3 \\cdot \\alpha \\right)}. \\tag{4.3} \\end{equation}\\] represents third possible limitation carboxylation rate addition RuBP-saturated RuBP-regeneration-limited rates. limitation included original FvCB model, importance realized soon afterwards (Sharkey 1985; Harley Sharkey 1991) since become standard part model. Since now considering new process model, must update Equation (3.3) include \\(W_p\\): \\[\\begin{equation} V_c = \\min \\{ W_c, W_j, W_p \\}. \\tag{4.4} \\end{equation}\\]","code":""},{"path":"/articles/avoiding_pitfalls_fvcb.html","id":"pitfall-impossible-limitations","dir":"Articles","previous_headings":"4 Including Triose Phosphate Utilization","what":"Pitfall: Impossible Limitations","title":"Avoiding Pitfalls When Using the FvCB Model","text":"Inspecting Equation (4.3), can see \\(C < \\Gamma^* \\cdot \\left( 1 + 3 \\cdot \\alpha \\right)\\), denominator equation negative, hence \\(W_p < 0\\). However, \\(W_p\\) represents carboxylation rate, negative. ’s going ? One way understand situation evaluate Equation (4.2) \\(C\\) set \\(\\Gamma^* \\cdot \\left( 1 + 3 \\cdot \\alpha \\right)\\). , find rate inorganic phosphate consumption case exactly 0. words, \\(C\\) low enough, photosynthesis consuming inorganic phosphate, therefore impossible carboxylation limited TPU. One way indicate restriction modify Equation (4.3) following: \\[\\begin{equation}   W_p =   \\begin{cases}     \\infty \\;, & 0 \\leq C \\leq \\Gamma^* \\cdot \\left( 1 + 3 \\cdot \\alpha \\right) \\\\[1ex]     \\frac{3 \\cdot T_p \\cdot C}{C - \\Gamma^* \\cdot \\left( 1 + 3 \\cdot \\alpha \\right)} \\;, & \\Gamma^* \\cdot \\left( 1 + 3 \\cdot \\alpha \\right) < C   \\end{cases} \\tag{4.5} \\end{equation}\\] modification, \\(W_p\\) never negative, can never smallest \\(W_c\\), \\(W_j\\), \\(W_p\\) \\(C \\leq \\Gamma^* \\cdot \\left( 1 + 3 \\cdot \\alpha \\right)\\), can safely use conjunction Equation (4.4). carboxylation TPU-limited, corresponding net CO2 assimilation rate (called \\(A_p\\) rather \\(A_n\\) indicate type limitation) can found combining Equations (2.5) (4.3) follows: \\[\\begin{equation} A_p = W_p \\cdot (1 - \\Gamma^* / C) - R_d = \\frac{3 \\cdot T_p \\cdot \\left( C - \\Gamma^* \\right)}{C - \\Gamma^* \\cdot \\left( 1 + 3 \\cdot \\alpha \\right)} - R_d. \\tag{4.6} \\end{equation}\\] equation often incorporated pseudo-FvCB model discussed Section 3.2; case, Equation (3.7) updated following: \\[\\begin{equation} A_n = \\min \\{ A_c, A_j, A_p \\}. \\tag{4.7} \\end{equation}\\] See, example, Equations 2.26 2.27 von Caemmerer (2000) (aware Equation 2.26 typo denominator). Using Equation (4.7) without considering domain Equation (4.6) valid can cause additional issues beyond ones discussed Section 3.2; particular, net assimilation rate may become TPU-limited \\(C < \\Gamma^* \\cdot \\left( 1 + 3 \\cdot \\alpha \\right)\\), although possible. just one reason choose minimal carboxylation rate (Equation (4.4)) rather minimal net assimilation rate (Equation (4.7)) using describing FvCB model. Examples comparing FvCB model pseudo-FvCB model can found Section 6.","code":""},{"path":"/articles/avoiding_pitfalls_fvcb.html","id":"handling-c-0","dir":"Articles","previous_headings":"","what":"Handling C = 0","title":"Avoiding Pitfalls When Using the FvCB Model","text":"One issue Equation (2.5) value becomes undefined \\(C = 0\\). significant issue \\(C > 0\\) realistic situation. However, possible extend model \\(C = 0\\) considering limiting value \\(C\\) approaches 0 right. First, carboxylation TPU-limited \\(C \\leq \\Gamma^* \\cdot \\left( 1 + 3 \\cdot \\alpha \\right)\\), TPU-limited \\(C = 0\\), need consider . Next, note although \\(1 - \\Gamma^* / C\\) undefined \\(C = 0\\), \\(A_c\\) \\(A_j\\) (Equations (3.5) (3.6)) . fact, following \\(C = 0\\): \\[\\begin{equation} A_c \\big|_{C = 0} = - \\frac{\\Gamma^* \\cdot V_{cmax}}{K_c \\cdot \\left( 1 + O / K_o\\right)} - R_d \\end{equation}\\] \\[\\begin{equation} A_j \\big|_{C = 0} = - \\frac{J}{8} - R_d. \\end{equation}\\] Remembering Equation (3.7) always makes wrong choice \\(C < \\Gamma^*\\), can reverse behavior find \\(A_n\\) \\(C = 0\\): \\[\\begin{equation} A_n \\big|_{C = 0} = \\max \\bigl\\{ A_c \\big|_{C = 0}, A_j \\big|_{C = 0} \\bigr\\}. \\end{equation}\\]","code":""},{"path":"/articles/avoiding_pitfalls_fvcb.html","id":"sec:examples","dir":"Articles","previous_headings":"","what":"Examples Comparing the FvCB and Pseudo-FvCB Models","title":"Avoiding Pitfalls When Using the FvCB Model","text":"use R demonstrate differences FvCB model pseudo-FcVB model. First, define function implements FvCB model: Now, define function implements pseudo-FvCB model; intentionally avoid restricting \\(A_p\\) proper \\(C\\) domain, allowing become limiting low \\(C\\): also define function runs model across range \\(C\\) values set input parameter values compares results creating figures. code function included article, can found source file. used generate figures following sections. Finally, also define default parameter values use simulations; correspond bright conditions \\(\\alpha = 0\\). values caption Figure 2.6 von Caemmerer (2000) exception \\(O\\), specified caption. value \\(O\\) chosen approximately atmospheric partial pressure O2. following sections include three separate figures representing model outputs certain set conditions: figure showing \\(W_c\\), \\(W_j\\), \\(W_p\\), \\(V_c\\), \\(A_n\\) (calculated using Equations (2.5) (4.4)). figure shows net CO2 assimilation rate determined FvCB model. figure showing \\(A_c\\), \\(A_j\\), \\(A_p\\) \\(A_n\\) (calculated using Equation (4.7)). figure shows net CO2 assimilation rate determined pseudo-FvCB model. figure showing \\(A_n\\) calculated two different models, highlighting differences .","code":"fvcb_model <- function(   C,     # microbar   Vcmax, # micromol / m^2 / s   Kc,    # microbar   O,     # mbar   Ko,    # mbar   J,     # micromol / m^2 / s   Gstar, # microbar   Tp,    # micromol / m^2 / s   alpha, # dimensionless   Rd     # micromol / m^2 / s ) {   Wc <- Vcmax * C / (C + Kc * (1 + O / Ko))    Wj <- J * C / (4 * C + 8 * Gstar)    Wp <- 3 * Tp * C / (C - Gstar * (1 + 3 * alpha))   Wp[C <= Gstar * (1 + 3 * alpha)] <- Inf    Vc <- pmin(Wc, Wj, Wp)    An <- (1 - Gstar / C) * Vc - Rd    list(Wc = Wc, Wj = Wj, Wp = Wp, Vc = Vc, An = An) } pseudo_fvcb_model <- function(   C,     # microbar   Vcmax, # micromol / m^2 / s   Kc,    # microbar   O,     # mbar   Ko,    # mbar   J,     # micromol / m^2 / s   Gstar, # microbar   Tp,    # micromol / m^2 / s   alpha, # dimensionless   Rd     # micromol / m^2 / s ) {   Ac <- Vcmax * (C - Gstar) / (C + Kc * (1 + O / Ko)) - Rd    Aj <- J * (C - Gstar) / (4 * C + 8 * Gstar) - Rd    Ap <- 3 * Tp * (C - Gstar) / (C - Gstar * (1 + 3 * alpha)) - Rd    An <- pmin(Ac, Aj, Ap)    list(Ac = Ac, Aj = Aj, Ap = Ap, An = An) } defaults <- list(   Vcmax = 100,  # micromol / m^2 / s   Kc = 259,     # microbar   O = 200,      # mbar   Ko = 179,     # mbar   J = 170,      # micromol / m^2 / s   Gstar = 38.6, # microbar   Tp = 11.8,    # micromol / m^2 / s   alpha = 0,    # dimensionless   Rd = 1        # micromol / m^2 / s )"},{"path":"/articles/avoiding_pitfalls_fvcb.html","id":"bright-conditions-alpha-0","dir":"Articles","previous_headings":"6 Examples Comparing the FvCB and Pseudo-FvCB Models","what":"Bright Conditions, \\(\\alpha = 0\\)","title":"Avoiding Pitfalls When Using the FvCB Model","text":"case, difference models occurs \\(C < \\Gamma^*\\), carboxylation RuBP-saturated FvCB model assimilation RuBP-regeneration-limited pseudo-FvCB model.","code":""},{"path":"/articles/avoiding_pitfalls_fvcb.html","id":"bright-conditions-alpha-0-5","dir":"Articles","previous_headings":"6 Examples Comparing the FvCB and Pseudo-FvCB Models","what":"Bright Conditions, \\(\\alpha = 0.5\\)","title":"Avoiding Pitfalls When Using the FvCB Model","text":"set \\(\\alpha\\) 0.5 reduce \\(T_p\\) 10 (make TPU limitations easier spot.) , difference models \\(C < \\Gamma^*\\), carboxylation RuBP-saturated FvCB model assimilation RuBP-regeneration-limited pseudo-FvCB model. also another difference \\(Ap\\) becomes negative \\(C < \\Gamma^* \\cdot \\left(1 + 3 \\cdot \\alpha \\right)\\), leading unrealistic sudden dip net assimilation pseudo-FvCB model near \\(C\\) = 100 \\(\\mu\\)bar.","code":""},{"path":"/articles/avoiding_pitfalls_fvcb.html","id":"dim-conditions-alpha-0","dir":"Articles","previous_headings":"6 Examples Comparing the FvCB and Pseudo-FvCB Models","what":"Dim Conditions, \\(\\alpha = 0\\)","title":"Avoiding Pitfalls When Using the FvCB Model","text":"set \\(J\\) 10, simulating dim light. , difference models \\(C < \\Gamma^*\\), now opposite scenario occurs respect bright conditions: carboxylation RuBP-regeneration-limited FvCB model assimilation RuBP-saturated pseudo-FvCB model.","code":""},{"path":"/articles/avoiding_pitfalls_fvcb.html","id":"final-remarks","dir":"Articles","previous_headings":"","what":"Final Remarks","title":"Avoiding Pitfalls When Using the FvCB Model","text":"document, shown although pseudo-FvCB model equations frequently used plant biologists, exactly equivalent original FvCB model. Differences occur low CO2 concentrations \\(C < \\Gamma^*\\); situation, two models always disagree process limits carboxylation determines overall net CO2 assimilation rate. differences may always consequential (example, CO2 concentrations rarely low enough context typical crop growth simulation), nevertheless important ensure mathematical model described accurately, code implementation model faithfully represents . case, evaluating ability model represent reality—essential goal computational modeling—becomes impossible task. reason, recommend original formulation model preferred pseudo-FvCB version using FvCB model.","code":""},{"path":[]},{"path":"/articles/pdf_vignette_index.html","id":"a-practical-guide-to-biocro","dir":"Articles","previous_headings":"","what":"A Practical Guide to BioCro","title":"PDF Vignettes","text":"R code Practical Guide BioCro","code":""},{"path":"/articles/pdf_vignette_index.html","id":"quantitative-comparison-between-two-photosynthesis-models","dir":"Articles","previous_headings":"","what":"Quantitative Comparison Between Two Photosynthesis Models","title":"PDF Vignettes","text":"R code Quantitative Comparison Two Photosynthesis Models","code":""},{"path":[]},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Justin M. McGrath. Maintainer, author. Edward B. Lochocki. Author. Scott Rohde. Author. Deepak Jaiswal. Author. Megan L. Matthews. Author. Fernando E. Miguez. Author. Stephen P. Long. Author. Dan Wang. Contributor. David LeBauer. Contributor. BioCro authors. Copyright holder. Boost Organization. Copyright holder.            Author included Boost library","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"McGrath J, Lochocki E, Rohde S, Jaiswal D, Matthews M, Miguez F, Long S (2023). BioCro: Modular Crop Growth Simulations. R package version 3.0.0, https://github.com/ebimodeling/biocro.","code":"@Manual{,   title = {BioCro: Modular Crop Growth Simulations},   author = {Justin M. McGrath and Edward B. Lochocki and Scott Rohde and Deepak Jaiswal and Megan L. Matthews and Fernando E. Miguez and Stephen P. Long},   year = {2023},   note = {R package version 3.0.0},   url = {https://github.com/ebimodeling/biocro}, }"},{"path":"/index.html","id":"biocro","dir":"","previous_headings":"","what":"BioCro","title":"Modular Crop Growth Simulations","text":"BioCro model predicts plant growth time given crop-specific parameters environmental data input. uses models key physiological biophysical processes underlying plant growth (Humphries Long, 1995), previously used predicting biomass yield leaf area index switchgrass miscanthus (Miguez et al., 2009). BioCro also integrated suite tools link model directly crop trait yield data (LeBauer et al., 2014). Predictive Ecosystem Analyzer (PEcAn) couples BioCro Biofuel Ecophysiological Traits Yields database.","code":""},{"path":"/index.html","id":"an-example","dir":"","previous_headings":"BioCro","what":"An example","title":"Modular Crop Growth Simulations","text":"run_biocro() function accepts initial values, parameters, climate variables, sets modules run. returns results data frame. parameters modules soybean (Glycine max), miscanthus (Miscanthus x giganteus), willow (Saliceae salix).","code":"library(BioCro) library(lattice)  result <- with(soybean, {run_biocro(   initial_values,   parameters,   soybean_weather$'2002',   direct_modules,   differential_modules,   ode_solver )})  xyplot(Stem + Leaf ~ TTc, data = result, type='l', auto = TRUE)"},{"path":[]},{"path":"/index.html","id":"requirements","dir":"","previous_headings":"BioCro > Installation","what":"Requirements","title":"Modular Crop Growth Simulations","text":"R environment version 3.5.0 greater. Windows, version Rtools appropriate version R. Linux, gcc g++ version 4.9.3 greater (consult documentation distribution installation instructions). MacOS, Xcode.","code":""},{"path":"/index.html","id":"installation-steps","dir":"","previous_headings":"BioCro > Installation","what":"Installation steps","title":"Modular Crop Growth Simulations","text":"new Git, easiest way get local copy install GitHub Desktop use “Open GitHub Desktop” option “Code” dropdown GitHub page repository. Alternatively, clone repository using Git command line usual fashion running git clone <https://github.com/ebimodeling/biocro-dev> repository contains Git submodule, need take additional step running git submodule update --init obtain . install command line: install within R:","code":"cd path_to_source_code_parent_directory R CMD INSTALL biocro setwd('path_to_source_code_parent_directory') install.packages('biocro', repos=NULL, type='SOURCE')"},{"path":"/index.html","id":"making-contributions","dir":"","previous_headings":"BioCro","what":"Making contributions","title":"Modular Crop Growth Simulations","text":"Please see contribution guidelines submitting changes.","code":""},{"path":"/index.html","id":"software-documentation","dir":"","previous_headings":"BioCro","what":"Software Documentation","title":"Modular Crop Growth Simulations","text":"See BioCro Documentation Web Site. found standard package documentation, also documentation C++ code, including notes biological models used BioCro implementation. Also included documentation BioCro package developers maintainers. also separate page documents quantities used Standard BioCro Module Library.","code":""},{"path":"/index.html","id":"license","dir":"","previous_headings":"BioCro","what":"License","title":"Modular Crop Growth Simulations","text":"BioCro R package licensed MIT license, BioCro C++ framework licensed version 3 greater GNU Lesser General Public License (LGPL). scheme allows people freely develop models use (public private) MIT license, changes framework assembles solves models must make source code changes available users LGPL. See LICENSE.note details.","code":""},{"path":"/index.html","id":"references","dir":"","previous_headings":"","what":"References","title":"Modular Crop Growth Simulations","text":"Humphries S Long SP (1995) WIMOVAC - software package modeling dynamics plant leaf canopy photosynthesis. Computer Applications Bioscience 11(4):361-371. Miguez FE, Zhu XG, Humphries S, Bollero GA, Long SP (2009) semimechanistic model predicting growth production bioenergy crop Miscanthus × giganteus: description, parameterization validation. Global Change Biology Bioenergy 1: 282-296. LeBauer D, Wang D, Richter K, Davidson C, Dietze M (2014) Facilitating feedbacks field measurements ecosystem models. Ecological Monographs 83(2): 133-154. Wang D, Jaiswal D, Lebauer DS, Wertin TM, Bollero GA, Leakey ADB, Long SP (2015) physiological biophysical model coppice willow (Salix spp.) production yields contiguous USA current future climate scenarios. Plant, Cell & Environment 38(9), 1850-1865.","code":""},{"path":"/reference/add_time_to_weather_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Add a time component to input — add_time_to_weather_data","title":"Add a time component to input — add_time_to_weather_data","text":"Ensure, possible, input data varies time \"time\" component.","code":""},{"path":"/reference/add_time_to_weather_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add a time component to input — add_time_to_weather_data","text":"","code":"add_time_to_weather_data(drivers)"},{"path":"/reference/add_time_to_weather_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add a time component to input — add_time_to_weather_data","text":"drivers list dataframe representing known system parameters vary     time, weather data.","code":""},{"path":"/reference/add_time_to_weather_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add a time component to input — add_time_to_weather_data","text":"drivers time component, one added, provided components doy hour. (time values equal doy values plus fractional portion day represented hour values.) Otherwise drivers returned .","code":""},{"path":"/reference/add_time_to_weather_data.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Add a time component to input — add_time_to_weather_data","text":"Preconditions: drivers list, values vectors equal length.  Moreover, already contains time component, contain either doy hour component unless contains values mutually consistent.  Furthermore, time represented (doy, hour), given, time, given, increase vector row index increases.","code":""},{"path":"/reference/annualDB.html","id":null,"dir":"Reference","previous_headings":"","what":"Miscanthus dry biomass data. — annualDB","title":"Miscanthus dry biomass data. — annualDB","text":"first column thermal time. second, third, fourth, fifth     columns miscanthus stem, leaf, root, rhizome dry biomass Mg     ha-1 (root missing). sixth column leaf area index.     annualDB.c version altered root biomass     missing LAI smaller. purpose last modification     testing functions.","code":""},{"path":"/reference/annualDB.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Miscanthus dry biomass data. — annualDB","text":"Data frame dimensions 5 6.","code":""},{"path":"/reference/annualDB.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Miscanthus dry biomass data. — annualDB","text":"Clive Beale Stephen Long. 1997. Seasonal dynamics nutrient     accumulation partitioning perennial C4 grasses Miscanthus x     giganteus Spartina cynosuroides. Biomass Bioenergy 12 (6): 419--428.","code":""},{"path":"/reference/catm_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Global annual mean atmopspheric CO2 levels — catm_data","title":"Global annual mean atmopspheric CO2 levels — catm_data","text":"Multiple years globally averaged annual mean atmospheric CO2 levels   uncertainties. data included BioCro package users can reproduce   calculations Lochocki et al. (2022)   [doi:10.1093/insilicoplants/diac003 ] exploratory purposes;   likely BioCro studies require different data sets,   attempt made exhaustive.","code":""},{"path":"/reference/catm_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Global annual mean atmopspheric CO2 levels — catm_data","text":"","code":"catm_data"},{"path":"/reference/catm_data.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Global annual mean atmopspheric CO2 levels — catm_data","text":"Data frame 3 columns 41 rows: year: year Catm: CO2 concentration (micromol / mol) unc: uncertainty associated CO2 concentration           (micromol / mol)","code":""},{"path":"/reference/catm_data.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Global annual mean atmopspheric CO2 levels — catm_data","text":"Data obtained National Oceanic Atmospheric Administration's   Global Monitoring Laboratory (https://gml.noaa.gov/ccgg/trends/data.html)   04-13-2021. exact link used   https://gml.noaa.gov/webdata/ccgg/trends/co2/co2_annmean_gl.txt. Alternatively, data can accessed   https://gml.noaa.gov/ccgg/trends/gl_data.html clicking link   Globally averaged marine surface annual mean data (CSV). data provided convenience BioCro users; please visit   NOAA GML webpage guidelines regarding use data   intending include publication.","code":""},{"path":"/reference/cmi_soybean_weather_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Champaign, IL weather data for Soybean-BioCro — cmi_soybean_weather_data","title":"Champaign, IL weather data for Soybean-BioCro — cmi_soybean_weather_data","text":"Champaign, IL weather data specified hourly intervals CST time zone   years 2002, 2004, 2005, 2006. data includes typical inputs   required BioCro simulations, addition day_length,   specifically required soybean simulations. Although quantity can   calculated modules course simulation, included   weather data speed simulations. time range restricted   SoyFACE growing season used year. weather data included BioCro package users can reproduce   calculations Matthews et al. (2022)   [doi:10.1093/insilicoplants/diab032 ] exploratory purposes;   likely BioCro studies require different data sets,   attempt made exhaustive.","code":""},{"path":"/reference/cmi_soybean_weather_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Champaign, IL weather data for Soybean-BioCro — cmi_soybean_weather_data","text":"","code":"soybean_weather"},{"path":"/reference/cmi_soybean_weather_data.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Champaign, IL weather data for Soybean-BioCro — cmi_soybean_weather_data","text":"list 4 named elements, element data frame corresponding   one year weather data name element year,   example '2004'. data frame 2952 - 3384 observations   (representing hourly time points) 14 variables: year: year doy: day year hour: hour time_zone_offset: time zone offset relative UTC (hr) precip: preciptation rate (mm / hr) rh: ambient relative humidity (dimensionless) dw_solar: downwelling global solar radiation (J / m^2 / s) up_solar: upwelling global solar radiation (J / m^2 / s) netsolar: net global solar radiation (downwelling - upwelling)           (J / m^2 /s) solar: incoming photosynthetically active photon flux           density (PPFD) measured ground area basis including direct           diffuse sunlight light just outside crop canopy           (micromol / m^2 / s) temp: ambient air temperature (degrees Celsius) windspeed: wind speed ambient air just outside           canopy (m / s) zen: solar zenith angle (degrees) day_length: length daily photoperiod (hours)","code":""},{"path":"/reference/cmi_soybean_weather_data.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Champaign, IL weather data for Soybean-BioCro — cmi_soybean_weather_data","text":"Weather data obtained public SURFRAD WARM databases   processed according method described Matthews et al. (2022)   [doi:10.1093/insilicoplants/diab032 ]. See paper full description   data processing. brief, columns data frames determined SURFRAD WARM   variables follows: precip: precip variable WARM data set rh: rh variable SURFRAD data set dw_solar: dw_solar variable SURFRAD data           set up_solar: uw_solar variable SURFRAD data           set netsolar: netsolar variable SURFRAD data           set solar: par variable SURFRAD data set;           values available, netsolar           up_solar variables used make estimate;           values also available, dw_solar variable used           make estimate temp: temp variable SURFRAD data set windspeed: windspd variable SURFRAD data           set zen: zen variable SURFRAD data set day_length: calculated solar using           oscillator-based circadian clock WARM data set includes daily values. Hourly values precipitation   derived daily totals assuming constant rate precipitation   throughout day. SURFRAD data set includes values 1 3 minute intervals. Hourly values   determined averaging hourly intervals, value hour   h average hour. values missing; missing   entries filled interpolating neighboring hours. create data frame, hourly values columns except   day_length extracted WARM SURFRAD data. , BioCro   used run circadian clock model determines photoperiod length.   (See page additional information clock model:   soybean_clock.) result calculation   appended weather data frame new column. time_zone_offset set constant value -6 since data   specified CST time zone (.e., UTC-6). Since value   quantity change, principle considered parameter   rather driver; however, included weather data   convenience.","code":""},{"path":"/reference/cmi_weather_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Champaign, IL weather data — cmi_weather_data","title":"Champaign, IL weather data — cmi_weather_data","text":"Champaign, IL weather data specified hourly intervals CST time zone   years 1995--2020. data includes typical inputs required BioCro   imulations. Note: values missing near start 1995 since   time points available SURFRAD. weather data included BioCro package users can reproduce   calculations Lochocki et al. (2022)   [doi:10.1093/insilicoplants/diac003 ] exploratory purposes;   likely BioCro studies require different data sets,   attempt made exhaustive.","code":""},{"path":"/reference/cmi_weather_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Champaign, IL weather data — cmi_weather_data","text":"","code":"weather"},{"path":"/reference/cmi_weather_data.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Champaign, IL weather data — cmi_weather_data","text":"list 26 named elements, element data frame corresponding   one year weather data name element year,   example '2004'. data frame 8760 8784 observations   (representing hourly time points) 9 variables: year: year doy: day year hour: hour time_zone_offset: time zone offset relative UTC (hr) precip: preciptation rate (mm / hr) rh: ambient relative humidity (dimensionless) solar: incoming photosynthetically active photon flux           density (PPFD) measured ground area basis including direct           diffuse sunlight light just outside crop canopy           (micromol / m^2 / s) temp: ambient air temperature (degrees Celsius) windspeed: wind speed ambient air just outside           canopy (m / s)","code":""},{"path":"/reference/cmi_weather_data.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Champaign, IL weather data — cmi_weather_data","text":"Weather data obtained public SURFRAD WARM databases   processed according method described Lochocki et al. (2022)   [doi:10.1093/insilicoplants/diac003 ]. See paper full description   data processing. brief, columns data frames determined SURFRAD WARM   variables follows: precip: precip variable WARM data set rh: rh variable SURFRAD data set solar: par variable SURFRAD data set;           values available, direct_n,           diffuse, zen variables used make estimate temp: temp variable SURFRAD data set windspeed: windspd variable SURFRAD data           set WARM data set includes daily values. Hourly values precipitation   derived daily totals assuming constant rate precipitation   throughout day. SURFRAD data set includes values 1 3 minute intervals. Hourly values   determined averaging hourly intervals, value hour   h average hour-long interval centered h.   values missing; missing entries filled via interpolation   procedure based assumption values hour sequential   days similar. time_zone_offset set constant value -6 since data   specified CST time zone (.e., UTC-6). Since value   quantity change, principle considered parameter   rather driver; however, included weather data   convenience.","code":""},{"path":"/reference/crop_model_definitions.html","id":null,"dir":"Reference","previous_headings":"","what":"Crop model definitions — crop_model_definitions","title":"Crop model definitions — crop_model_definitions","text":"BioCro, crop model defined sets direct modules, differential   modules, initial values, parameters, along ordinary differential   equation (ODE) solver. run model, values, along set   weather data, passed run_biocro function.   convenience, several crop model definitions included BioCro R   package. full list can obtained typing ??crop_models R   terminal.","code":""},{"path":"/reference/crop_model_definitions.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Crop model definitions — crop_model_definitions","text":"crop model definition stored list following named   elements: direct_modules: list direct module names; can passed     run_biocro direct_module_names argument. differential_modules: list differential module names; can     passed run_biocro     differential_module_names argument. ode_solver: list specifying details numerical ODE     solver; can passed run_biocro ode_solver     argument. initial_values: list named quantity values; can passed     run_biocro initial_values argument. parameters: list named quantity values; can passed     run_biocro parameters argument, also can     passed evaluate_module     module_response_curve investigating behavior one     crop's modules. model definitions sufficient running simulation   run_biocro also requires drivers; crop growth models,   drivers sets weather data. soybean model   intended used along specialized soybean weather data   (see cmi_soybean_weather_data). crops used   weather data (see cmi_weather_data). quantities crop model definitions, values   photosynthetic parameters, remain location; others,   latitude longitude, need change simulating crop growth   different locations. Care must taken understand input quantity   attempting run simulations places cultivars. Typically, modules crop model definition defined lists   named elements; names facilitate --fly module swapping via   within function. example, change soybean canopy   photosynthesis module BioCro:ten_layer_rue_canopy module, one   pass within(soybean$direct_modules, {canopy_photosynthesis =   \"BioCro:ten_layer_rue_canopy\"}) direct_module_names argument   calling run_biocro instead   soybean$direct_modules. crop model definition stored list named elements,   possible use function save typing   calling run_biocro related functions   partial_run_biocro   validate_dynamical_system_inputs. example, compare   Example 1 Example 2 . Besides shortening code,   using also makes easy modify command simulate   growth different crop; two models can use drivers,   switch can accomplished one small change (Example 3).","code":""},{"path":[]},{"path":"/reference/crop_model_definitions.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Crop model definitions — crop_model_definitions","text":"","code":"# Example 1: Simulating Miscanthus growth using its model definition list result1 <- run_biocro(   miscanthus_x_giganteus$initial_values,   miscanthus_x_giganteus$parameters,   get_growing_season_climate(weather$'2002'),   miscanthus_x_giganteus$direct_modules,   miscanthus_x_giganteus$differential_modules,   miscanthus_x_giganteus$ode_solver )  # Example 2: Performing the same simulation as in Example 1, but making use of # the `with` command to reduce repeated references to the model definition list result2 <- with(miscanthus_x_giganteus, {run_biocro(   initial_values,   parameters,   get_growing_season_climate(weather$'2002'),   direct_modules,   differential_modules,   ode_solver )})  # Example 3: Simulating willow growth using the same weather data as Examples 1 # and 2, which just requires one change relative to Example 2 result3 <- with(willow, {run_biocro(   initial_values,   parameters,   get_growing_season_climate(weather$'2002'),   direct_modules,   differential_modules,   ode_solver )})"},{"path":"/reference/dynamical_system.html","id":null,"dir":"Reference","previous_headings":"","what":"Validating dynamical system inputs — dynamical_system","title":"Validating dynamical system inputs — dynamical_system","text":"Utility function checking inputs run_biocro without running ","code":""},{"path":"/reference/dynamical_system.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validating dynamical system inputs — dynamical_system","text":"","code":"validate_dynamical_system_inputs(     initial_values = list(),     parameters = list(),     drivers,     direct_module_names = list(),     differential_module_names = list(),     verbose = TRUE )"},{"path":"/reference/dynamical_system.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validating dynamical system inputs — dynamical_system","text":"initial_values Identical corresponding argument run_biocro. parameters Identical corresponding argument run_biocro. drivers Identical corresponding argument run_biocro. direct_module_names Identical corresponding argument run_biocro. differential_module_names Identical corresponding argument run_biocro. verbose Identical corresponding argument run_biocro.","code":""},{"path":"/reference/dynamical_system.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Validating dynamical system inputs — dynamical_system","text":"validate_dynamical_system_inputs accepts input arguments   run_biocro exception ode_solver (  required check validity dynamical system). validate_dynamical_system_inputs checks set parameters, drivers,   modules, initial values see can properly define dynamical   system can therefore used inputs run_biocro.   Although run_biocro function performs validity   checks, validate_dynamical_system_inputs includes additional   information, list parameters whose values used inputs   modules, since principle parameters removed   clarity. using one pre-defined crop growth models, may helpful   use command pass arguments   validate_dynamical_system_inputs; see documentation   crop_model_definitions information.","code":""},{"path":"/reference/dynamical_system.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validating dynamical system inputs — dynamical_system","text":"boolean indicating whether inputs valid.","code":""},{"path":[]},{"path":"/reference/dynamical_system.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Validating dynamical system inputs — dynamical_system","text":"","code":"# Example 1: missing a parameter and an initial value validate_dynamical_system_inputs(   within(soybean$initial_values, rm(Leaf)),         # remove the initial `Leaf` value   within(soybean$parameters, rm(leaf_reflectance)), # remove `leaf_reflectance`   soybean_weather$'2002',   soybean$direct_modules,   soybean$differential_modules ) #>  #> Checking the validity of the system inputs: #>  #> [pass] No quantities were defined multiple times in the inputs #>  #> [fail] The following module inputs were not defined: #>  Leaf from the 'parameter_calculator' module #>  leaf_reflectance from the 'ten_layer_canopy_properties' module #>  Leaf from the 'senescence_logistic' module #>  Leaf from the 'partitioning_growth' module #>  #> [fail] The following differential module outputs were not part of the initial values: #>  Leaf from the 'senescence_logistic' module #>  Leaf from the 'partitioning_growth' module #>  #> [pass] There are no cyclic dependencies among the direct modules. #>  #> System inputs are not valid #>  #> Printing additional information about the system inputs: #>  #> The direct modules are in a suitable order for evaluation. #>  #> The following quantities were each required by at least one module: #>  Catm #>  DVI #>  Gs_min #>  Leaf #>  LeafN #>  LeafN_0 #>  LeafWS #>  O2 #>  Rd #>  Rhizome #>  Rmax_emrV0 #>  Root #>  Sp_thermal_time_decay #>  Stem #>  StomataWS #>  TTc #>  TTemr_threshold #>  Tbase_emr #>  Tmax_R0R1 #>  Tmax_R1R7 #>  Tmax_emrV0 #>  Tmin_R0R1 #>  Tmin_R1R7 #>  Tmin_emrV0 #>  Topt_R0R1 #>  Topt_R1R7 #>  Topt_emrV0 #>  absorptivity_par #>  alpha1 #>  alphaLeaf #>  alphaRoot #>  alphaSeneLeaf #>  alphaSeneRhizome #>  alphaSeneRoot #>  alphaSeneStem #>  alphaShell #>  alphaStem #>  alphab1 #>  atmospheric_pressure #>  atmospheric_scattering #>  atmospheric_transmittance #>  average_absorbed_shortwave_layer_0 #>  average_absorbed_shortwave_layer_1 #>  average_absorbed_shortwave_layer_2 #>  average_absorbed_shortwave_layer_3 #>  average_absorbed_shortwave_layer_4 #>  average_absorbed_shortwave_layer_5 #>  average_absorbed_shortwave_layer_6 #>  average_absorbed_shortwave_layer_7 #>  average_absorbed_shortwave_layer_8 #>  average_absorbed_shortwave_layer_9 #>  b0 #>  b1 #>  betaLeaf #>  betaRoot #>  betaSeneLeaf #>  betaSeneRhizome #>  betaSeneRoot #>  betaSeneStem #>  betaShell #>  betaStem #>  canopy_assimilation_rate #>  canopy_transpiration_rate #>  chil #>  cosine_zenith_angle #>  cws1 #>  cws2 #>  day_length #>  development_rate_per_hour #>  electrons_per_carboxylation #>  electrons_per_oxygenation #>  growth_respiration_fraction #>  height_layer_0 #>  height_layer_1 #>  height_layer_2 #>  height_layer_3 #>  height_layer_4 #>  height_layer_5 #>  height_layer_6 #>  height_layer_7 #>  height_layer_8 #>  height_layer_9 #>  heightf #>  hydrDist #>  iSp #>  irradiance_diffuse_fraction #>  irradiance_direct_fraction #>  jmax #>  kGrain #>  kLeaf #>  kRhizome #>  kRhizome_emr #>  kRoot #>  kSeneLeaf #>  kSeneRhizome #>  kSeneRoot #>  kSeneStem #>  kShell #>  kStem #>  kd #>  kpLN #>  lai #>  lat #>  leaf_reflectance #>  leaf_transmittance #>  lnfun #>  longitude #>  maturity_group #>  minimum_gbw #>  mrc1 #>  mrc2 #>  net_assimilation_rate_grain #>  net_assimilation_rate_leaf #>  net_assimilation_rate_rhizome #>  net_assimilation_rate_root #>  net_assimilation_rate_shell #>  net_assimilation_rate_stem #>  par_energy_content #>  par_energy_fraction #>  par_incident_diffuse #>  par_incident_direct #>  phi1 #>  phi2 #>  precip #>  rateSeneLeaf #>  rateSeneRhizome #>  rateSeneRoot #>  rateSeneStem #>  remobilization_fraction #>  retrans #>  retrans_rhizome #>  rfl #>  rh #>  rh_layer_0 #>  rh_layer_1 #>  rh_layer_2 #>  rh_layer_3 #>  rh_layer_4 #>  rh_layer_5 #>  rh_layer_6 #>  rh_layer_7 #>  rh_layer_8 #>  rh_layer_9 #>  rsdf #>  rsec #>  shaded_Assim_layer_0 #>  shaded_Assim_layer_1 #>  shaded_Assim_layer_2 #>  shaded_Assim_layer_3 #>  shaded_Assim_layer_4 #>  shaded_Assim_layer_5 #>  shaded_Assim_layer_6 #>  shaded_Assim_layer_7 #>  shaded_Assim_layer_8 #>  shaded_Assim_layer_9 #>  shaded_GrossAssim_layer_0 #>  shaded_GrossAssim_layer_1 #>  shaded_GrossAssim_layer_2 #>  shaded_GrossAssim_layer_3 #>  shaded_GrossAssim_layer_4 #>  shaded_GrossAssim_layer_5 #>  shaded_GrossAssim_layer_6 #>  shaded_GrossAssim_layer_7 #>  shaded_GrossAssim_layer_8 #>  shaded_GrossAssim_layer_9 #>  shaded_Gs_layer_0 #>  shaded_Gs_layer_1 #>  shaded_Gs_layer_2 #>  shaded_Gs_layer_3 #>  shaded_Gs_layer_4 #>  shaded_Gs_layer_5 #>  shaded_Gs_layer_6 #>  shaded_Gs_layer_7 #>  shaded_Gs_layer_8 #>  shaded_Gs_layer_9 #>  shaded_TransR_layer_0 #>  shaded_TransR_layer_1 #>  shaded_TransR_layer_2 #>  shaded_TransR_layer_3 #>  shaded_TransR_layer_4 #>  shaded_TransR_layer_5 #>  shaded_TransR_layer_6 #>  shaded_TransR_layer_7 #>  shaded_TransR_layer_8 #>  shaded_TransR_layer_9 #>  shaded_fraction_layer_0 #>  shaded_fraction_layer_1 #>  shaded_fraction_layer_2 #>  shaded_fraction_layer_3 #>  shaded_fraction_layer_4 #>  shaded_fraction_layer_5 #>  shaded_fraction_layer_6 #>  shaded_fraction_layer_7 #>  shaded_fraction_layer_8 #>  shaded_fraction_layer_9 #>  shaded_incident_ppfd_layer_0 #>  shaded_incident_ppfd_layer_1 #>  shaded_incident_ppfd_layer_2 #>  shaded_incident_ppfd_layer_3 #>  shaded_incident_ppfd_layer_4 #>  shaded_incident_ppfd_layer_5 #>  shaded_incident_ppfd_layer_6 #>  shaded_incident_ppfd_layer_7 #>  shaded_incident_ppfd_layer_8 #>  shaded_incident_ppfd_layer_9 #>  soil_air_entry #>  soil_b_coefficient #>  soil_clod_size #>  soil_depth1 #>  soil_depth2 #>  soil_depth3 #>  soil_field_capacity #>  soil_reflectance #>  soil_sand_content #>  soil_saturated_conductivity #>  soil_saturation_capacity #>  soil_transmission #>  soil_water_content #>  soil_wilting_point #>  solar #>  sowing_time #>  specific_heat_of_air #>  sunlit_Assim_layer_0 #>  sunlit_Assim_layer_1 #>  sunlit_Assim_layer_2 #>  sunlit_Assim_layer_3 #>  sunlit_Assim_layer_4 #>  sunlit_Assim_layer_5 #>  sunlit_Assim_layer_6 #>  sunlit_Assim_layer_7 #>  sunlit_Assim_layer_8 #>  sunlit_Assim_layer_9 #>  sunlit_GrossAssim_layer_0 #>  sunlit_GrossAssim_layer_1 #>  sunlit_GrossAssim_layer_2 #>  sunlit_GrossAssim_layer_3 #>  sunlit_GrossAssim_layer_4 #>  sunlit_GrossAssim_layer_5 #>  sunlit_GrossAssim_layer_6 #>  sunlit_GrossAssim_layer_7 #>  sunlit_GrossAssim_layer_8 #>  sunlit_GrossAssim_layer_9 #>  sunlit_Gs_layer_0 #>  sunlit_Gs_layer_1 #>  sunlit_Gs_layer_2 #>  sunlit_Gs_layer_3 #>  sunlit_Gs_layer_4 #>  sunlit_Gs_layer_5 #>  sunlit_Gs_layer_6 #>  sunlit_Gs_layer_7 #>  sunlit_Gs_layer_8 #>  sunlit_Gs_layer_9 #>  sunlit_TransR_layer_0 #>  sunlit_TransR_layer_1 #>  sunlit_TransR_layer_2 #>  sunlit_TransR_layer_3 #>  sunlit_TransR_layer_4 #>  sunlit_TransR_layer_5 #>  sunlit_TransR_layer_6 #>  sunlit_TransR_layer_7 #>  sunlit_TransR_layer_8 #>  sunlit_TransR_layer_9 #>  sunlit_fraction_layer_0 #>  sunlit_fraction_layer_1 #>  sunlit_fraction_layer_2 #>  sunlit_fraction_layer_3 #>  sunlit_fraction_layer_4 #>  sunlit_fraction_layer_5 #>  sunlit_fraction_layer_6 #>  sunlit_fraction_layer_7 #>  sunlit_fraction_layer_8 #>  sunlit_fraction_layer_9 #>  sunlit_incident_ppfd_layer_0 #>  sunlit_incident_ppfd_layer_1 #>  sunlit_incident_ppfd_layer_2 #>  sunlit_incident_ppfd_layer_3 #>  sunlit_incident_ppfd_layer_4 #>  sunlit_incident_ppfd_layer_5 #>  sunlit_incident_ppfd_layer_6 #>  sunlit_incident_ppfd_layer_7 #>  sunlit_incident_ppfd_layer_8 #>  sunlit_incident_ppfd_layer_9 #>  tbase #>  temp #>  theta #>  time #>  time_zone_offset #>  tpu_rate_max #>  vmax1 #>  vmax_n_intercept #>  water_stress_approach #>  windspeed #>  windspeed_height #>  windspeed_layer_0 #>  windspeed_layer_1 #>  windspeed_layer_2 #>  windspeed_layer_3 #>  windspeed_layer_4 #>  windspeed_layer_5 #>  windspeed_layer_6 #>  windspeed_layer_7 #>  windspeed_layer_8 #>  windspeed_layer_9 #>  wsFun #>  year #>  #> The following parameters were not used as inputs to any module: #>  jmax_mature #>  km_leaf_litter #>  sf_jmax #>  soil_bulk_density #>  soil_clay_content #>  soil_silt_content #> You may want to consider removing them for clarity #>  #> The following drivers were not used as inputs to any module: #>  dw_solar #>  netsolar #>  up_solar #>  zen #> You may want to consider removing them for clarity #>  #> All quantities in the initial values have associated derivatives #>  #> Derivatives for the following quantities are each determined by more than one module: #>  Grain #>  Leaf #>  Rhizome #>  Root #>  Shell #>  Stem #>  #> No direct modules require a fixed step size Euler ode_solver #>  #> No differential modules require a fixed step size Euler ode_solver #>  #> All modules in the direct module list are direct modules #>  #> All modules in the differential module list are differential modules #>  #> [1] FALSE  # Example 2: a valid set of input arguments validate_dynamical_system_inputs(   soybean$initial_values,   soybean$parameters,   soybean_weather$'2002',   soybean$direct_modules,   soybean$differential_modules ) #>  #> Checking the validity of the system inputs: #>  #> [pass] No quantities were defined multiple times in the inputs #>  #> [pass] All module inputs were properly defined #>  #> [pass] All differential module outputs were included in the initial values #>  #> [pass] There are no cyclic dependencies among the direct modules. #>  #> System inputs are valid #>  #> Printing additional information about the system inputs: #>  #> The direct modules are in a suitable order for evaluation. #>  #> The following quantities were each required by at least one module: #>  Catm #>  DVI #>  Gs_min #>  Leaf #>  LeafN #>  LeafN_0 #>  LeafWS #>  O2 #>  Rd #>  Rhizome #>  Rmax_emrV0 #>  Root #>  Sp_thermal_time_decay #>  Stem #>  StomataWS #>  TTc #>  TTemr_threshold #>  Tbase_emr #>  Tmax_R0R1 #>  Tmax_R1R7 #>  Tmax_emrV0 #>  Tmin_R0R1 #>  Tmin_R1R7 #>  Tmin_emrV0 #>  Topt_R0R1 #>  Topt_R1R7 #>  Topt_emrV0 #>  absorptivity_par #>  alpha1 #>  alphaLeaf #>  alphaRoot #>  alphaSeneLeaf #>  alphaSeneRhizome #>  alphaSeneRoot #>  alphaSeneStem #>  alphaShell #>  alphaStem #>  alphab1 #>  atmospheric_pressure #>  atmospheric_scattering #>  atmospheric_transmittance #>  average_absorbed_shortwave_layer_0 #>  average_absorbed_shortwave_layer_1 #>  average_absorbed_shortwave_layer_2 #>  average_absorbed_shortwave_layer_3 #>  average_absorbed_shortwave_layer_4 #>  average_absorbed_shortwave_layer_5 #>  average_absorbed_shortwave_layer_6 #>  average_absorbed_shortwave_layer_7 #>  average_absorbed_shortwave_layer_8 #>  average_absorbed_shortwave_layer_9 #>  b0 #>  b1 #>  betaLeaf #>  betaRoot #>  betaSeneLeaf #>  betaSeneRhizome #>  betaSeneRoot #>  betaSeneStem #>  betaShell #>  betaStem #>  canopy_assimilation_rate #>  canopy_transpiration_rate #>  chil #>  cosine_zenith_angle #>  cws1 #>  cws2 #>  day_length #>  development_rate_per_hour #>  electrons_per_carboxylation #>  electrons_per_oxygenation #>  growth_respiration_fraction #>  height_layer_0 #>  height_layer_1 #>  height_layer_2 #>  height_layer_3 #>  height_layer_4 #>  height_layer_5 #>  height_layer_6 #>  height_layer_7 #>  height_layer_8 #>  height_layer_9 #>  heightf #>  hydrDist #>  iSp #>  irradiance_diffuse_fraction #>  irradiance_direct_fraction #>  jmax #>  kGrain #>  kLeaf #>  kRhizome #>  kRhizome_emr #>  kRoot #>  kSeneLeaf #>  kSeneRhizome #>  kSeneRoot #>  kSeneStem #>  kShell #>  kStem #>  kd #>  kpLN #>  lai #>  lat #>  leaf_reflectance #>  leaf_transmittance #>  lnfun #>  longitude #>  maturity_group #>  minimum_gbw #>  mrc1 #>  mrc2 #>  net_assimilation_rate_grain #>  net_assimilation_rate_leaf #>  net_assimilation_rate_rhizome #>  net_assimilation_rate_root #>  net_assimilation_rate_shell #>  net_assimilation_rate_stem #>  par_energy_content #>  par_energy_fraction #>  par_incident_diffuse #>  par_incident_direct #>  phi1 #>  phi2 #>  precip #>  rateSeneLeaf #>  rateSeneRhizome #>  rateSeneRoot #>  rateSeneStem #>  remobilization_fraction #>  retrans #>  retrans_rhizome #>  rfl #>  rh #>  rh_layer_0 #>  rh_layer_1 #>  rh_layer_2 #>  rh_layer_3 #>  rh_layer_4 #>  rh_layer_5 #>  rh_layer_6 #>  rh_layer_7 #>  rh_layer_8 #>  rh_layer_9 #>  rsdf #>  rsec #>  shaded_Assim_layer_0 #>  shaded_Assim_layer_1 #>  shaded_Assim_layer_2 #>  shaded_Assim_layer_3 #>  shaded_Assim_layer_4 #>  shaded_Assim_layer_5 #>  shaded_Assim_layer_6 #>  shaded_Assim_layer_7 #>  shaded_Assim_layer_8 #>  shaded_Assim_layer_9 #>  shaded_GrossAssim_layer_0 #>  shaded_GrossAssim_layer_1 #>  shaded_GrossAssim_layer_2 #>  shaded_GrossAssim_layer_3 #>  shaded_GrossAssim_layer_4 #>  shaded_GrossAssim_layer_5 #>  shaded_GrossAssim_layer_6 #>  shaded_GrossAssim_layer_7 #>  shaded_GrossAssim_layer_8 #>  shaded_GrossAssim_layer_9 #>  shaded_Gs_layer_0 #>  shaded_Gs_layer_1 #>  shaded_Gs_layer_2 #>  shaded_Gs_layer_3 #>  shaded_Gs_layer_4 #>  shaded_Gs_layer_5 #>  shaded_Gs_layer_6 #>  shaded_Gs_layer_7 #>  shaded_Gs_layer_8 #>  shaded_Gs_layer_9 #>  shaded_TransR_layer_0 #>  shaded_TransR_layer_1 #>  shaded_TransR_layer_2 #>  shaded_TransR_layer_3 #>  shaded_TransR_layer_4 #>  shaded_TransR_layer_5 #>  shaded_TransR_layer_6 #>  shaded_TransR_layer_7 #>  shaded_TransR_layer_8 #>  shaded_TransR_layer_9 #>  shaded_fraction_layer_0 #>  shaded_fraction_layer_1 #>  shaded_fraction_layer_2 #>  shaded_fraction_layer_3 #>  shaded_fraction_layer_4 #>  shaded_fraction_layer_5 #>  shaded_fraction_layer_6 #>  shaded_fraction_layer_7 #>  shaded_fraction_layer_8 #>  shaded_fraction_layer_9 #>  shaded_incident_ppfd_layer_0 #>  shaded_incident_ppfd_layer_1 #>  shaded_incident_ppfd_layer_2 #>  shaded_incident_ppfd_layer_3 #>  shaded_incident_ppfd_layer_4 #>  shaded_incident_ppfd_layer_5 #>  shaded_incident_ppfd_layer_6 #>  shaded_incident_ppfd_layer_7 #>  shaded_incident_ppfd_layer_8 #>  shaded_incident_ppfd_layer_9 #>  soil_air_entry #>  soil_b_coefficient #>  soil_clod_size #>  soil_depth1 #>  soil_depth2 #>  soil_depth3 #>  soil_field_capacity #>  soil_reflectance #>  soil_sand_content #>  soil_saturated_conductivity #>  soil_saturation_capacity #>  soil_transmission #>  soil_water_content #>  soil_wilting_point #>  solar #>  sowing_time #>  specific_heat_of_air #>  sunlit_Assim_layer_0 #>  sunlit_Assim_layer_1 #>  sunlit_Assim_layer_2 #>  sunlit_Assim_layer_3 #>  sunlit_Assim_layer_4 #>  sunlit_Assim_layer_5 #>  sunlit_Assim_layer_6 #>  sunlit_Assim_layer_7 #>  sunlit_Assim_layer_8 #>  sunlit_Assim_layer_9 #>  sunlit_GrossAssim_layer_0 #>  sunlit_GrossAssim_layer_1 #>  sunlit_GrossAssim_layer_2 #>  sunlit_GrossAssim_layer_3 #>  sunlit_GrossAssim_layer_4 #>  sunlit_GrossAssim_layer_5 #>  sunlit_GrossAssim_layer_6 #>  sunlit_GrossAssim_layer_7 #>  sunlit_GrossAssim_layer_8 #>  sunlit_GrossAssim_layer_9 #>  sunlit_Gs_layer_0 #>  sunlit_Gs_layer_1 #>  sunlit_Gs_layer_2 #>  sunlit_Gs_layer_3 #>  sunlit_Gs_layer_4 #>  sunlit_Gs_layer_5 #>  sunlit_Gs_layer_6 #>  sunlit_Gs_layer_7 #>  sunlit_Gs_layer_8 #>  sunlit_Gs_layer_9 #>  sunlit_TransR_layer_0 #>  sunlit_TransR_layer_1 #>  sunlit_TransR_layer_2 #>  sunlit_TransR_layer_3 #>  sunlit_TransR_layer_4 #>  sunlit_TransR_layer_5 #>  sunlit_TransR_layer_6 #>  sunlit_TransR_layer_7 #>  sunlit_TransR_layer_8 #>  sunlit_TransR_layer_9 #>  sunlit_fraction_layer_0 #>  sunlit_fraction_layer_1 #>  sunlit_fraction_layer_2 #>  sunlit_fraction_layer_3 #>  sunlit_fraction_layer_4 #>  sunlit_fraction_layer_5 #>  sunlit_fraction_layer_6 #>  sunlit_fraction_layer_7 #>  sunlit_fraction_layer_8 #>  sunlit_fraction_layer_9 #>  sunlit_incident_ppfd_layer_0 #>  sunlit_incident_ppfd_layer_1 #>  sunlit_incident_ppfd_layer_2 #>  sunlit_incident_ppfd_layer_3 #>  sunlit_incident_ppfd_layer_4 #>  sunlit_incident_ppfd_layer_5 #>  sunlit_incident_ppfd_layer_6 #>  sunlit_incident_ppfd_layer_7 #>  sunlit_incident_ppfd_layer_8 #>  sunlit_incident_ppfd_layer_9 #>  tbase #>  temp #>  theta #>  time #>  time_zone_offset #>  tpu_rate_max #>  vmax1 #>  vmax_n_intercept #>  water_stress_approach #>  windspeed #>  windspeed_height #>  windspeed_layer_0 #>  windspeed_layer_1 #>  windspeed_layer_2 #>  windspeed_layer_3 #>  windspeed_layer_4 #>  windspeed_layer_5 #>  windspeed_layer_6 #>  windspeed_layer_7 #>  windspeed_layer_8 #>  windspeed_layer_9 #>  wsFun #>  year #>  #> The following parameters were not used as inputs to any module: #>  jmax_mature #>  km_leaf_litter #>  sf_jmax #>  soil_bulk_density #>  soil_clay_content #>  soil_silt_content #> You may want to consider removing them for clarity #>  #> The following drivers were not used as inputs to any module: #>  dw_solar #>  netsolar #>  up_solar #>  zen #> You may want to consider removing them for clarity #>  #> All quantities in the initial values have associated derivatives #>  #> Derivatives for the following quantities are each determined by more than one module: #>  Grain #>  Leaf #>  Rhizome #>  Root #>  Shell #>  Stem #>  #> No direct modules require a fixed step size Euler ode_solver #>  #> No differential modules require a fixed step size Euler ode_solver #>  #> All modules in the direct module list are direct modules #>  #> All modules in the differential module list are differential modules #>  #> [1] TRUE"},{"path":"/reference/get_all.html","id":null,"dir":"Reference","previous_headings":"","what":"Get lists of modules, quantities, and solvers — get_all","title":"Get lists of modules, quantities, and solvers — get_all","text":"get_all_modules returns fully-qualified names (form   library_name:local_module_name) modules available BioCro   module library package. get_all_quantities returns information quantities used   inputs outputs modules available BioCro module library package. get_all_ode_solvers returns names ordinary differential   equation (ODE) solvers available BioCro framework.","code":""},{"path":"/reference/get_all.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get lists of modules, quantities, and solvers — get_all","text":"","code":"get_all_modules(library_name)    get_all_quantities(library_name)    get_all_ode_solvers()"},{"path":"/reference/get_all.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get lists of modules, quantities, and solvers — get_all","text":"library_name name BioCro module library","code":""},{"path":"/reference/get_all.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get lists of modules, quantities, and solvers — get_all","text":"\"get_all\" functions return modules, quantities, ODE solvers   available within BioCro framework BioCro module library package. Developer details: get_all_modules   get_all_quantities expect module library package include   unexported functions called get_all_modules_internal   get_all_quantities_internal, respectively. functions   input arguments, return values follow   requirements described get_all_modules   get_all_quantities. module library package created forking   skeleton library automatically include functions without   modifications package's R code.","code":""},{"path":"/reference/get_all.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get lists of modules, quantities, and solvers — get_all","text":"get_all_modules character vector fully-qualified module names get_all_quantities data frame three columns:     quantity_type (input output), quantity_name,     module_name. quantity appear multiple times use     input output, used multiple modules. get_all_ode_solvers character vector ODE solver names","code":""},{"path":[]},{"path":"/reference/get_all.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get lists of modules, quantities, and solvers — get_all","text":"","code":"# Example 1: Getting a sorted list of distinct quantities defined by modules in # the `BioCro` module library. Doing this can be useful when writing a new # module that is intended to work along with pre-existing modules. all_quantities <- get_all_quantities('BioCro') all_quantity_names <- all_quantities$quantity_name distinct_quantities <- sort(unique(all_quantity_names))  # Example 2: Getting a list of all modules in the `BioCro` module library that # have \"ci\" as an input or output, using `tolower()` to account for any possible # variations in capitalization. all_quantities <- get_all_quantities('BioCro') ci_modules <- subset(all_quantities, tolower(quantity_name) == \"ci\")"},{"path":"/reference/get_growing_season_climate.html","id":null,"dir":"Reference","previous_headings":"","what":"Truncate weather data to one growing season — get_growing_season_climate","title":"Truncate weather data to one growing season — get_growing_season_climate","text":"Attempt restrict year weather data growing season; intended   general-use function (see detailed discussion   shortcomings).","code":""},{"path":"/reference/get_growing_season_climate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Truncate weather data to one growing season — get_growing_season_climate","text":"","code":"get_growing_season_climate(climate, threshold_temperature = 0)"},{"path":"/reference/get_growing_season_climate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Truncate weather data to one growing season — get_growing_season_climate","text":"climate data frame representing one year weather data, typically intended     passed run_biocro drivers argument. data     frame must columns day year (doy) air     temperature degrees C (temp). threshold_temperature value air temperature degrees C use locating beginning     end growing season.","code":""},{"path":"/reference/get_growing_season_climate.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Truncate weather data to one growing season — get_growing_season_climate","text":"DISCLAIMER: function included primarily reproduce   output older BioCro calculations, used hard-coded   every simulation. several severe limitations discussed ,   intended general-use function subsetting weather data. determine growing season, function locates beginning end   based air temperature data. start growing season set   last day first half year air temperature   (equal ) threshold temperature, day 90, whichever later.   end growing season set first day second half   year air temperature (equal ) threshold   temperature, day 330, whichever earlier. sophisticated function attempt made ensure   output reasonable. example, air temperature never exceeds   threshold value, growing season beginning day 183 (last day   first half year) ending day 184 (first day second   half year) returned. air temperature always exceeds   threshold value, growing season go day 90 day 330. function also assumes air temperature generally increases early   year generally decreases later year, applicable   locations case. therefore unlikely work   properly Southern Hemisphere tropics. general, appropriate threshold temperature depend species   modeled. perennial grass, growth season might said   begin last freeze, requiring threshold temperature 0 degrees   C. course, oversimplification complicated biological   process, plant way knowing experienced last   freezing day year. hand, annual crops like maize soybean typically sown   conditions warmer might require higher threshold. ,   oversimplification complicated process. Farmers typically take   trends temperature, historical data, soil conditions, weather   predictions account deciding sow, may also   constrained external factors like availability machinery, seeds,   labor. also noted threshold temperature increases,   likelihood air temperature occurring night, even middle   summer, also increases. Consequently, threshold set high,   unrealistically short growing season may predicted. example, calling   get_growing_season_climate(weather$'2005', 15) returns two-day   growing season (days 183--184) temperatures late night   day 183 early morning day 184 dip 15 degrees C. Thus, logic encoded oversimplification several ways.   likely appropriate many situations, tailored approaches   required.","code":""},{"path":"/reference/get_growing_season_climate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Truncate weather data to one growing season — get_growing_season_climate","text":"copy climate data frame truncated growing season.","code":""},{"path":"/reference/lightME.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulates the light macro environment — lightME","title":"Simulates the light macro environment — lightME","text":"Simulates light macro environment based latitude, day year.     coefficients can adjusted. Note: type special-purpose     function now deprecated, lightME included BioCro     namespace. reason, must accessed via BioCro:::lightME.","code":""},{"path":"/reference/lightME.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulates the light macro environment — lightME","text":"","code":"lightME(lat = 40, DOY = 190, t.d = 12, t.sn = 12, atm.P = 1e+05, alpha = 0.85)"},{"path":"/reference/lightME.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simulates the light macro environment — lightME","text":"lat latitude, default 40 (Urbana, IL, U.S.). DOY day year ([1, 365]), default 190. t.d time day hours ([0, 23]), default 12. t.sn time solar noon, default 12. atm.P atmospheric pressure, default 1e5 (kPa). alpha atmospheric transmittance, default 0.85.","code":""},{"path":"/reference/lightME.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simulates the light macro environment — lightME","text":"list structure components:  \".dir\"Direct radiation (micromoles m^-2 s-1) \".diff\"Indirect (diffuse) radiation (micromoles m^-2 s-1) \"cos.th\"cosine \\(\\theta\\), solar zenith angle. \"propIdir\"proportion direct radiation. \"propIdiff\"proportion indirect (diffuse) radiation.","code":""},{"path":"/reference/lightME.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Simulates the light macro environment — lightME","text":"equations used can found     http://www.life.illinois.edu/plantbio/wimovac/newpage9.htm     original source Monteith, 1991.","code":""},{"path":"/reference/lightME.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Simulates the light macro environment — lightME","text":"","code":"## Direct and diffuse radiation for DOY 190 and hours 0 to 23  res <- BioCro:::lightME(t.d=0:23)  lattice::xyplot(   I.dir + I.diff ~ 0:23,   data = res,   type = 'o',   xlab = 'hour',   ylab = 'Irradiance' )   lattice::xyplot(   propIdir + propIdiff ~ 0:23,   data = res,   type='o',   xlab='hour',   ylab='Irradiance proportion' )   plot(acos(BioCro:::lightME(lat = 42, t.d = 0:23)$cos.th) * 180 / pi)"},{"path":"/reference/miscanthus_x_giganteus.html","id":null,"dir":"Reference","previous_headings":"","what":"Miscanthus model definition — miscanthus_x_giganteus","title":"Miscanthus model definition — miscanthus_x_giganteus","text":"Initial values, parameters, direct modules, differential modules,   differential equation solver can used run   Miscanthus x giganteus growth simulations Champaign, Illinois   locations. represent Miscanthus growth Champaign, IL, values must   paired Champaign weather data (cmi_weather_data).   parameters already include clay_loam values   soil_parameters dataset, appropriate soil type   Champaign. specifications, values photosynthetic parameters,   remain location; others, latitude longitude,   need change simulating crop growth different locations. Care   must taken understand input quantity attempting run   simulations places cultivars.","code":""},{"path":"/reference/miscanthus_x_giganteus.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Miscanthus model definition — miscanthus_x_giganteus","text":"","code":"miscanthus_x_giganteus"},{"path":"/reference/miscanthus_x_giganteus.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Miscanthus model definition — miscanthus_x_giganteus","text":"list 5 named elements suitable passing   run_biocro, described help page   crop_model_definitions.","code":""},{"path":"/reference/miscanthus_x_giganteus.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Miscanthus model definition — miscanthus_x_giganteus","text":"model originally described Miguez et al. (2009)   [doi:10.1111/j.1757-1707.2009.01019.x ] Miguez et al. (2012)   [doi:10.1111/j.1757-1707.2011.01150.x ]. Since original parameterization,   behavior several core modules changed bugs   identified fixed, model likely needs reparameterized   can used realistic simulations.","code":""},{"path":[]},{"path":"/reference/module_case_files.html","id":null,"dir":"Reference","previous_headings":"","what":"Define and modify BioCro module test case files — module_case_files","title":"Define and modify BioCro module test case files — module_case_files","text":"Test cases testing modules can stored files. functions   provide ways create update files. initialize_csv helps define test cases module testing   initializing csv file one module based either set   default input values user-supplied ones. add_csv_row helps define test cases module testing adding one   test case module's csv file based user-supplied inputs   description. update_csv_cases helps define cases module testing updating   expected output values case stored module's csv file.","code":""},{"path":"/reference/module_case_files.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Define and modify BioCro module test case files — module_case_files","text":"","code":"initialize_csv(     module_name,     directory,     nonstandard_inputs = list(),     description = \"automatically-generated test case\",     overwrite = FALSE   )    add_csv_row(module_name, directory, inputs, description)    update_csv_cases(module_name, directory)"},{"path":"/reference/module_case_files.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Define and modify BioCro module test case files — module_case_files","text":"module_name string specifying one BioCro module, formatted like     library_name:local_module_name, library_name name     library contains module local name     local_module_name; fully-qualified module names can formed     manually module_paste. directory directory module test case files stored, e.g.     file.path('tests', 'module_test_cases'). inputs list module inputs, .e., list named numeric elements     corresponding module's input quantities. description string describing test case, e.g. \"temp tbase\".     description succinct contain newline characters. nonstandard_inputs optional list input quantities whose values override default     value 1.0; see inputs entry . overwrite logical value indicating whether existing file overwritten.","code":""},{"path":"/reference/module_case_files.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Define and modify BioCro module test case files — module_case_files","text":"Module test case files form critical component BioCro's regression   testing system. details, see help page   module_testing. initialize_csv function evaluate module set input   quantities store results test case csv file. Typically,   optional arguments can omitted. However, modules produce   errors inputs set 1.0. case, necessary   supply nonstandard inputs (possibly) alternate case description. add_csv_row function evaluate module set input   quantities, define test case resulting outputs description,   add module's corresponding csv file. csv   file exists, one initialized new case. update_csv_cases function evaluate module input   values specified csv case file update stored values   corresponding outputs. output columns present file   added automatically filled correct values. Although output   columns optional, description column must exist csv   file. module test fails update_csv_cases used update test,   care taken ensure new outputs sensible.   function used blindly ensure tests pass, since test   failure may indicate real problem module. Note update_csv_cases can used batch-initialize test cases.   , manually create test case csv file proper name   includes columns inputs description; now, calling   update_csv_cases automatically fill outputs case.   method, care must taken manually specifying values   description column; descriptions must double quoted,   contain internal double quotes, quotes must doubled. Generally   safest simply avoid double quotes descriptions. (See qmethod   help file write.csv details quoting.)","code":""},{"path":"/reference/module_case_files.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Define and modify BioCro module test case files — module_case_files","text":"message indicating whether file created, overwritten, written.","code":""},{"path":[]},{"path":"/reference/module_case_files.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Define and modify BioCro module test case files — module_case_files","text":"","code":"# First, we will initialize a test case file for the 'BioCro' library's # 'thermal_time_linear' module, which will be saved in the current directory as # 'BioCro_thermal_time_linear.csv'. Then, we will add a new case to the file. # Finally, we will update the file. Note that the call to `update_csv_cases` # will not actually modify the file unless it is manually edited beforehand to # change an input or output value.  if (FALSE) {  initialize_csv(   'BioCro:thermal_time_linear',   '.',   nonstandard_inputs = list(temp = -1),   overwrite = TRUE )  add_csv_row(   'BioCro:thermal_time_linear',   '.',   list(time = 101, sowing_time = 100, tbase = 20, temp = 44),   'temp above tbase' )  update_csv_cases('BioCro:thermal_time_linear', '.') }"},{"path":"/reference/module_creators.html","id":null,"dir":"Reference","previous_headings":"","what":"Create instances of modules — module_creators","title":"Create instances of modules — module_creators","text":"Creates pointers module wrapper objects","code":""},{"path":"/reference/module_creators.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create instances of modules — module_creators","text":"","code":"module_creators(module_names)"},{"path":"/reference/module_creators.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create instances of modules — module_creators","text":"module_names vector module names","code":""},{"path":"/reference/module_creators.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create instances of modules — module_creators","text":"function used internally several BioCro functions,   purpose create instances module wrapper pointers using BioCro's   module library return pointers wrappers. turn, module wrappers   can used obtain information module's inputs, outputs,   properties, can also used create module instance. See   Also section contains list functions directly rely   module_creators. Although description externalptr objects sparse,   briefly mentioned R documentation: externalptr-class. function used directly, module library package   must version. reasons, function exported   package namespace can accessed using package name via   ::: operator.","code":""},{"path":"/reference/module_creators.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create instances of modules — module_creators","text":"vector R externalptr objects point  module_creator C++ object","code":""},{"path":[]},{"path":"/reference/module_creators.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create instances of modules — module_creators","text":"","code":"# Example: creating a vector of pointers to several module wrappers representing # three options for thermal time calculations module_pointers <- BioCro:::module_creators(c(   'thermal_time_linear',   'thermal_time_bilinear',   'thermal_time_trilinear' ))"},{"path":"/reference/module_paste.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepend library name to module names — module_paste","title":"Prepend library name to module names — module_paste","text":"Prepends library name set module names create   suitably-formatted set fully-qualified module names can passed   run_biocro BioCro functions.","code":""},{"path":"/reference/module_paste.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepend library name to module names — module_paste","text":"","code":"module_paste(lib_name, local_module_names)"},{"path":"/reference/module_paste.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepend library name to module names — module_paste","text":"lib_name string specifying module library name. local_module_names vector list module name strings.","code":""},{"path":"/reference/module_paste.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Prepend library name to module names — module_paste","text":"module_paste convenience function specifying multiple modules   library; prepends library name module name,   preserving names class local_module_names. Note simple call paste0(lib_name, ':', local_module_names)   produce similar output two important differences: (1)   paste0 preserve names local_module_names   named elements (2) paste0 always return character   vector, even local_module_names list.","code":""},{"path":"/reference/module_paste.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepend library name to module names — module_paste","text":"vector list fully-qualified module name strings formatted like  lib_name:local_module_name.","code":""},{"path":[]},{"path":"/reference/module_paste.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Prepend library name to module names — module_paste","text":"","code":"# Example: Specifying several modules from the `BioCro` module library. modules <- module_paste(   'BioCro',   list('total_biomass', canopy_photosynthesis = 'c3_canopy') )  # Compare to the output from `paste0` modules2 <- paste0(   'BioCro',   ':',   list('total_biomass', canopy_photosynthesis = 'c3_canopy') )  str(modules) #> List of 2 #>  $                      : chr \"BioCro:total_biomass\" #>  $ canopy_photosynthesis: chr \"BioCro:c3_canopy\" str(modules2) #>  chr [1:2] \"BioCro:total_biomass\" \"BioCro:c3_canopy\""},{"path":"/reference/module_testing.html","id":null,"dir":"Reference","previous_headings":"","what":"The BioCro module testing system — module_testing","title":"The BioCro module testing system — module_testing","text":"BioCro provides several functions defining, modifying, running module   test cases. functions together allow module developers easily create   regression tests ensure modules continue function correctly.","code":""},{"path":"/reference/module_testing.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"The BioCro module testing system — module_testing","text":"Together, test_module_library, test_module,   case, cases_from_csv,   initialize_csv, add_csv_row,   update_csv_cases form simple convenient system   defining running module test cases. tests form critical component   BioCro's regression testing system, test cases defined   BioCro modules BioCro module libraries. functions   required order use BioCro package, critical   understand creating modifying modules. module test case consists set module inputs, set module   outputs, short description case. run test, inputs   passed module, calculated outputs compared   expected ones. outputs match, test passed; otherwise, fails.   operation handled test_module function. simple --fly testing, possible define test case using   case function run using test_module.   However, robust method available facilitate regression testing,   module test cases stored suitably-formatted csv files,   allowing multiple test cases defined module easily checked   afterwards. test case files module module library stored   single directory, test cases can checked one call   test_module_library. system, test cases module fully-qualified name   module_name must stored module_name.csv,   colon module name replaced underscore;   example, module named BioCro:total_biomass associated   BioCro_total_biomass.csv. first row test case file must   quantity types (input output), second row must   quantity names, remaining rows must specify input quantity values   along expected output values produce. must also   description column (description first row)   containing short descriptions test cases. formatting requirements   automatically satisfied test case file produced   initialize_csv modified add_csv_row   update_csv_cases. files can read R using   cases_from_csv, resulting case objects can passed   test_module. Although possible, directly editing case files recommended   since initialize_csv, add_csv_row,   update_csv_cases easier use. several exceptions   suggestion: (1) case must deleted, (2) module input   must added removed, (3) initialization test file,   user may wish batch-initialize using update_csv_cases   (see documentation explanation batch-initialization). Case files can easily viewed using Excel spreadsheet viewers,   also nicely formatted viewed GitHub website   repository. Examples module test case files can found   tests/module_test_cases directory, code uses   testthat package automatically run defined   test cases standard BioCro module library via   test_module_library can found   tests/testthat/test.Modules.R file.","code":""},{"path":[]},{"path":"/reference/modules.html","id":null,"dir":"Reference","previous_headings":"","what":"BioCro module functions — modules","title":"BioCro module functions — modules","text":"BioCro modules named sets equations, module available   BioCro module library. module identified   fully-qualified name   includes name library local name within library.   functions provide ways access information modules   calculate output values sets input values. module_info returns essential information BioCro module. quantity_list_from_names initializes list named numeric elements   set names. evaluate_module runs BioCro module using list input quantity   values. module_response_curve runs BioCro module repeatedly different   input quantity values produce response curve.","code":""},{"path":"/reference/modules.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"BioCro module functions — modules","text":"","code":"module_info(module_name, verbose = TRUE)    quantity_list_from_names(quantity_names)    evaluate_module(module_name, input_quantities)    module_response_curve(module_name, fixed_quantities, varying_quantities)"},{"path":"/reference/modules.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"BioCro module functions — modules","text":"module_name string specifying one BioCro module, formatted like     library_name:local_module_name, library_name name     library contains module local name     local_module_name; fully-qualified module names can formed     manually module_paste. verbose boolean indicating whether print information R console. input_quantities list named numeric elements representing input quantities required     module; extraneous quantities ignored module. quantity_names vector strings. fixed_quantities list named numeric elements representing input quantities required     module whose values considered constant;     extraneous quantities ignored module. varying_quantities data frame column represents input quantity required     module whose value varies across response curve.","code":""},{"path":"/reference/modules.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"BioCro module functions — modules","text":"providing avenues retrieving information module evaluating   module's equations, module_info evaluate_module   functions form main interface individual BioCro modules within R.   quantity_list_from_names function convenience function   preparing suitable quantity lists pass evaluate_module. module_response_curve function provides convenient way   calculate module response curve. , user must specify module   use, values fixed input quantities (input_quantities),   sequence values quantities vary across response curve   (varying_quantities). returned data frame includes   information required reproduce curve: full-qualified   module name, inputs (including ones constant values),   outputs. Note: one quantity q input output   module, input value stored q column returned   data frame output value stored q.1 column;   renaming performed automatically make.unique function.","code":""},{"path":"/reference/modules.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"BioCro module functions — modules","text":"module_info invisible list several named elements containing     essential information module: module_name: module's (-fully-qualified) name inputs: character vector module's inputs outputs: character vector module's outputs type: module's type represented string (either             'differential' 'direct') euler_requirement: Indicates whether module requires             fixed-step Euler ODE solver used BioCro simulation creation_error_message: Describes errors occurred             creating instance module  quantity_list_from_names list named numeric elements, names set     quantity_names value set 1. evaluate_module list named numeric elements representing values module's     outputs calculated input_quantities according     module's equations. module_response_curve data frame first column fully-qualified name     module produced response curve remaining columns     module's input output quantities. row corresponds row     varying_quantities.","code":""},{"path":[]},{"path":"/reference/modules.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"BioCro module functions — modules","text":"","code":"# Example 1: printing information about the 'BioCro' module library's # 'c3_assimilation' module to the R console module_info('BioCro:c3_assimilation') #>  #>  #> Module name: #>   c3_assimilation #>  #> Module input quantities: #>   Qp #>   Tleaf #>   rh #>   vmax1 #>   jmax #>   tpu_rate_max #>   Rd #>   b0 #>   b1 #>   Gs_min #>   Catm #>   atmospheric_pressure #>   O2 #>   theta #>   StomataWS #>   water_stress_approach #>   electrons_per_carboxylation #>   electrons_per_oxygenation #>  #> Module output quantities: #>   Assim #>   Gs #>   Ci #>   GrossAssim #>  #> Module type (differential or direct): #>   direct #>  #> Requires a fixed step size Euler ode_solver: #>   no #>   # Example 2: getting the inputs to the 'BioCro' module library's # 'thermal_time_linear' module, generating a default input list, and using it to # run the module info <- module_info('BioCro:thermal_time_linear', verbose = FALSE) inputs <- quantity_list_from_names(info$inputs) # All inputs will be set to 1 outputs <- evaluate_module('BioCro:thermal_time_linear', inputs)  # Example 3: calculating the temperature response of light saturated net # assimilation at several values of relative humidity in the absence of water # stress using the 'BioCro' module library's 'c3_assimilation' module and # the default soybean parameters. Here, the leaf temperature and humidity values # are independent of each other, so we use the `expand.grid` function to form a # data frame of all possible combinations of their values. rc <- module_response_curve(   'BioCro:c3_assimilation',   within(soybean$parameters, {Qp = 2000; StomataWS = 1}),   expand.grid(     Tleaf = seq(from = 0, to = 40, length.out = 201),     rh = c(0.2, 0.5, 0.8)   ) ) caption <- paste(   \"Response curves calculated with several RH\\nvalues and Q =\",   unique(rc$Qp),   \"micromol / m^2 / s\\nusing the\",   unique(rc$module_name),   \"module\" ) lattice::xyplot(   Assim ~ Tleaf,   group = rh,   data = rc,   auto = TRUE,   type = 'l',   main = caption )"},{"path":"/reference/obsBea.html","id":null,"dir":"Reference","previous_headings":"","what":"Miscanthus assimilation field data — obsBea","title":"Miscanthus assimilation field data — obsBea","text":"Assimilation Miscanthus measured Beale, Bint, Long 1996.      first column observed net assimilation rate (micromoles m^-2 s^-1).     second column observed quantum flux (micromoles m^-2 s^-1).     third column temperature (degrees Celsius). Relative humidity     reported thus assumed 0.7.","code":""},{"path":"/reference/obsBea.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Miscanthus assimilation field data — obsBea","text":"Data frame dimensions 27 4.","code":""},{"path":"/reference/obsBea.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Miscanthus assimilation field data — obsBea","text":"C. V. Beale, D. . Bint, S. P. Long. 1996. Leaf photosynthesis     C4-grass Miscanthus x giganteus, growing cool temperate climate     southern England. J. Exp. Bot. 47 (2): 267--273.","code":""},{"path":"/reference/obsBeaC.html","id":null,"dir":"Reference","previous_headings":"","what":"Complete Miscanthus assimilation field data — obsBeaC","title":"Complete Miscanthus assimilation field data — obsBeaC","text":"Assimilation stomatal conductance Miscanthus measured Beale, Bint, Long     1996.  (Missing data also included.)  first column     date, second hour. Columns 3 4 assimilation     stomatal conductance respectively.","code":""},{"path":"/reference/obsBeaC.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Complete Miscanthus assimilation field data — obsBeaC","text":"Data frame dimensions 35 6.","code":""},{"path":"/reference/obsBeaC.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Complete Miscanthus assimilation field data — obsBeaC","text":"C. V. Beale, D. . Bint, S. P. Long. 1996. Leaf photosynthesis     C4-grass Miscanthus x giganteus, growing cool temperate climate     southern England. J. Exp. Bot. 47 (2): 267--273.","code":""},{"path":"/reference/obsBeaC.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Complete Miscanthus assimilation field data — obsBeaC","text":"third column observed net assimilation rate (micromoles m^-2 s^-1). fifth column observed quantum flux (micromoles m^-2 s^-1). sixth column temperature (degrees Celsius).","code":""},{"path":"/reference/obsNaid.html","id":null,"dir":"Reference","previous_headings":"","what":"Miscanthus assimilation data — obsNaid","title":"Miscanthus assimilation data — obsNaid","text":"Assimilation Miscanthus measured Naidu et al. (2003). first     column observed net assimilation rate (micromoles m^-2 s^-1).     second column observed quantum flux (micromoles m^-2 s^-1).     third column temperature (degrees Celsius).     fourth column observed relative humidity proportion (e.g. 0.7).","code":""},{"path":"/reference/obsNaid.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Miscanthus assimilation data — obsNaid","text":"Data frame dimensions 16 4.","code":""},{"path":"/reference/obsNaid.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Miscanthus assimilation data — obsNaid","text":"S. L. Naidu, S. P. Moose, . K. AL-Shoaibi, C. . Raines, S. P.     Long.  2003. Cold Tolerance C4 photosynthesis Miscanthus x giganteus:     Adaptation Amounts Sequence C4 Photosynthetic Enzymes.     Plant Physiol. 132 (3): 1688--1697.","code":""},{"path":"/reference/partial_application.html","id":null,"dir":"Reference","previous_headings":"","what":"Convenience Functions for Partial Application — partial_application","title":"Convenience Functions for Partial Application — partial_application","text":"Convenience functions using partial application BioCro","code":""},{"path":"/reference/partial_application.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convenience Functions for Partial Application — partial_application","text":"","code":"partial_run_biocro(     initial_values = list(),     parameters = list(),     drivers,     direct_module_names = list(),     differential_module_names = list(),     ode_solver = BioCro:::default_ode_solver,     arg_names,     verbose = FALSE )  partial_evaluate_module(module_name, input_quantities, arg_names)"},{"path":"/reference/partial_application.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convenience Functions for Partial Application — partial_application","text":"arg_names vector strings specifying input quantities whose values     fixed using partial application. initial_values Identical corresponding argument run_biocro. parameters Identical corresponding argument run_biocro. drivers Identical corresponding argument run_biocro. direct_module_names Identical corresponding argument run_biocro. differential_module_names Identical corresponding argument run_biocro. ode_solver Identical corresponding argument run_biocro. verbose Identical corresponding argument run_biocro. module_name Identical corresponding argument evaluate_module. input_quantities list named numeric elements representing input quantities required     module included arg_names; extraneous     quantities ignored module.","code":""},{"path":"/reference/partial_application.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Convenience Functions for Partial Application — partial_application","text":"Partial application technique fixing input   arguments function, producing new function fewer inputs.   context BioCro, partial application can often useful varying   parameters, initial values, drivers performing optimization   sensitivity analysis. Optimizers (optim)   typically require function single input argument, partial   application tools provided help create functions. partial_run_biocro partial_evaluate_module accept   arguments \"regular\" counterparts (run_biocro   evaluate_module) addition arg_names,   specifies input quantities fixed. partial_run_biocro, element arg_names must   name quantity one initial_values,   parameters, drivers. partial_evaluate_module,   element arg_names must name one module's input   quantities. using one pre-defined crop growth models, may helpful   use command pass arguments partial_run_biocro;   see documentation crop_model_definitions   information.","code":""},{"path":"/reference/partial_application.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convenience Functions for Partial Application — partial_application","text":"partial_run_biocro function calls run_biocro inputs     (except specified arg_names) set values specified     original call partial_run_biocro. new function one     input (x), can vector list specifying values     quantities arg_names. x names, elements must     supplied order original arg_names.     x names, must identical elements     arg_names can order. Elements x corresponding     drivers must vectors length drivers;     can specified named element list sequential elements     vector without names. return value new function data frame     produced run_biocro. partial_evaluate_module function calls evaluate_module input     quantities (except specified arg_names) set values     specified original call partial_evaluate_module. new     function one input (x), can vector list specifying     values quantities arg_names. x names,     elements must supplied order original     arg_names. x names, must identical     elements arg_names can order. return value     new function list two elements (inputs     outputs), list named numeric elements     representing module's input output values. (Note differs     output evaluate_module, returns outputs.)","code":""},{"path":[]},{"path":"/reference/partial_application.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convenience Functions for Partial Application — partial_application","text":"","code":"# Specify weather data to use in these examples ex_weather <- get_growing_season_climate(weather$'2005')  # Example 1: varying the thermal time values at which senescence starts for # different organs in a simulation; here we set them to the following values # instead of the defaults: #  - seneLeaf: 2000 degrees C * day #  - seneStem: 2100 degrees C * day #  - seneRoot: 2200 degrees C * day #  - seneRhizome: 2300 degrees C * day senescence_simulation <- partial_run_biocro(   miscanthus_x_giganteus$initial_values,   miscanthus_x_giganteus$parameters,   ex_weather,   miscanthus_x_giganteus$direct_modules,   miscanthus_x_giganteus$differential_modules,   miscanthus_x_giganteus$ode_solver,   c('seneLeaf', 'seneStem', 'seneRoot', 'seneRhizome') ) senescence_result <- senescence_simulation(c(2000, 2100, 2200, 2300))  # Example 2: a crude method for simulating the effects of climate change; here # we increase the atmospheric CO2 concentration to 500 ppm and the temperature # by 2 degrees C relative to 2005 temperatures. The commands below that call # `temperature_simulation` all produce the same result. temperature_simulation <- partial_run_biocro(   miscanthus_x_giganteus$initial_values,   miscanthus_x_giganteus$parameters,   ex_weather,   miscanthus_x_giganteus$direct_modules,   miscanthus_x_giganteus$differential_modules,   miscanthus_x_giganteus$ode_solver,   c(\"Catm\", \"temp\") ) hot_result_1 <- temperature_simulation(c(500, ex_weather$temp + 2.0)) hot_result_2 <- temperature_simulation(list(Catm = 500, temp = ex_weather$temp + 2.0)) hot_result_3 <- temperature_simulation(list(temp = ex_weather$temp + 2.0, Catm = 500))  # Note that these commands will both produce errors: # hot_result_4 <- temperature_simulation(c(Catm = 500, temp = ex_weather$temp + 2.0)) # hot_result_5 <- temperature_simulation(stats::setNames( #   c(500, ex_weather$temp + 2.0), #   c(\"Catm\", rep(\"temp\", length(ex_weather$temp))) # ))  # Note that this command will produce a strange result where the first # temperature value will be incorrectly interpreted as a `Catm` value, and the # `Catm` value will be interpreted as the final temperature value. # hot_result_6 <- temperature_simulation(c(ex_weather$temp + 2.0, 500))  # Example 3: varying the base and air temperature inputs to the # 'thermal_time_linear' module from the 'BioCro' module library. The commands # below that call `thermal_time_rate` all produce the same result. thermal_time_rate <- partial_evaluate_module(   'BioCro:thermal_time_linear',   within(miscanthus_x_giganteus$parameters, {time = 1}),   c(\"temp\", \"tbase\") ) rate_result_1 <- thermal_time_rate(c(25, 10)) rate_result_2 <- thermal_time_rate(c(temp = 25, tbase = 10)) rate_result_3 <- thermal_time_rate(c(tbase = 10, temp = 25)) rate_result_4 <- thermal_time_rate(list(temp = 25, tbase = 10)) rate_result_5 <- thermal_time_rate(list(tbase = 10, temp = 25))"},{"path":"/reference/run_biocro.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulate Crop Growth with BioCro — run_biocro","title":"Simulate Crop Growth with BioCro — run_biocro","text":"Runs full crop growth simulation using BioCro framework","code":""},{"path":"/reference/run_biocro.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulate Crop Growth with BioCro — run_biocro","text":"","code":"run_biocro(     initial_values = list(),     parameters = list(),     drivers,     direct_module_names = list(),     differential_module_names = list(),     ode_solver = BioCro:::default_ode_solver,     verbose = FALSE )"},{"path":"/reference/run_biocro.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simulate Crop Growth with BioCro — run_biocro","text":"initial_values list named quantities representing initial values     differential quantities, .e., quantities whose derivatives     calculated differential modules parameters list named quantities change time; must include     'timestep' parameter (see `drivers` info) drivers data frame quantities defined equally spaced time intervals.     time interval specified `parameters` quantity called     'timestep' units hours. drivers must include columns     either (1) 'time' (units days) (2) 'doy' 'hour'. direct_module_names character vector list fully-qualified names direct     modules use system; lists available modules can obtained via     get_all_modules function. differential_module_names character vector list fully-qualified names differential     modules use system; lists available modules can obtained via     get_all_modules function. ode_solver list specifying details numerical ODE solver. required     elements : type: string specifying name algorithm use;             list available options can obtained using             get_all_ode_solvers function. output_step_size: output step size. smaller 1,             equal 1.0 / N integer N. larger 1,             integer. adaptive_rel_error_tol: used set relative error             tolerance adaptive step size methods adaptive_abs_error_tol: used set absolute error             tolerance adaptive step size methods adaptive_max_steps: determines many times adaptive             step size method attempt find new step size             indicating failure  verbose logical variable indicating whether print dynamical system     validation information. (detailed startup information can obtained     validate_dynamical_system_inputs function.)","code":""},{"path":"/reference/run_biocro.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Simulate Crop Growth with BioCro — run_biocro","text":"run_biocro important function BioCro package.   input arguments function used define dynamical system   solve time evolution desired time period. details   function operates, see Lochocki et al. (2022)   [doi:10.1093/insilicoplants/diac003 ]. using one pre-defined crop growth models, may helpful   use command pass arguments run_biocro; see   documentation crop_model_definitions information.","code":""},{"path":"/reference/run_biocro.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simulate Crop Growth with BioCro — run_biocro","text":"data frame column represents one quantities included   simulation (exception parameters, since values   guaranteed change time) row represents time point","code":""},{"path":[]},{"path":"/reference/run_biocro.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Simulate Crop Growth with BioCro — run_biocro","text":"","code":"# Example: running a miscanthus simulation using weather data from 2005 result <- run_biocro(   miscanthus_x_giganteus$initial_values,   miscanthus_x_giganteus$parameters,   get_growing_season_climate(weather$'2005'),   miscanthus_x_giganteus$direct_modules,   miscanthus_x_giganteus$differential_modules,   miscanthus_x_giganteus$ode_solver )  lattice::xyplot(   Leaf + Stem + Root + Grain ~ TTc,   data=result,   type='l',   auto=TRUE )"},{"path":"/reference/soil_parameters.html","id":null,"dir":"Reference","previous_headings":"","what":"Soil properties — soil_parameters","title":"Soil properties — soil_parameters","text":"collection soil property data.","code":""},{"path":"/reference/soil_parameters.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Soil properties — soil_parameters","text":"","code":"soil_parameters"},{"path":"/reference/soil_parameters.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Soil properties — soil_parameters","text":"list named elements, element represents hydraulic   properties one type soil. soil types defined following   USDA soil texture classification   scheme, 11 12 possible types included (\"silt\"   available). following names used indicate various soil types: sand loamy_sand sandy_loam loam silt_loam sandy_clay_loam clay_loam silty_clay_loam sandy_clay silty_clay clay soil type, following parameter values provided: soil_silt_content (dimensionless) soil_clay_content (dimensionless) soil_sand_content (dimensionless) soil_air_entry (J / kg) soil_b_coefficient (dimensionless) soil_saturated_conductivity (J * s / m^3) soil_saturation_capacity (dimensionless) soil_field_capacity (dimensionless) soil_wilting_point (dimensionless) soil_bulk_density (Mg / m^3)","code":""},{"path":"/reference/soil_parameters.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Soil properties — soil_parameters","text":"soil property values based Table 9.1 Campbell Norman's   textbook Introduction Environmental Biophysics (1998). Bulk   density values taken function getsoilprop.c Melanie   (Colorado). bulk density sand getsoilprop.c 0,   sensible, value 1.60 Mg / m^3 used instead. wilting point value 0.21 (corrected 0.32) silty clay loam   based list book corrections available   Brian Hornbuckle's teaching website   using Wayback Machine, since seem available   current site.","code":""},{"path":"/reference/soybean.html","id":null,"dir":"Reference","previous_headings":"","what":"Soybean-BioCro model definition — soybean","title":"Soybean-BioCro model definition — soybean","text":"Initial values, parameters, direct modules, differential modules,   differential equation solver can used run soybean growth   simulations Champaign, Illinois locations. Along soybean   circadian clock specifications (soybean_clock), values   define soybean growth model Matthews et al. (2022)   [doi:10.1093/insilicoplants/diab032 ], commonly referred   Soybean-BioCro. represent soybean growth Champaign, IL, values must paired   Champaign weather data (cmi_soybean_weather_data).   weather data includes output soybean circadian clock model   (soybean_clock), clock components need   included running soybean growth simulation using weather data.   parameters already include clay_loam values   soil_parameters dataset, appropriate soil type   Champaign. specifications, values photosynthetic parameters,   remain location; others, latitude longitude,   need change simulating crop growth different locations. Care   must taken understand input quantity attempting run   simulations places cultivars. improvements made BioCro modules, behavior changes,   soybean model parameters must updated. Following significant module   updates, reparameterization performed using method data   used Matthews et al. (2022). following summary   reparameterizations occurred since original publication   Soybean-BioCro model: 2023-03-15: Several modules updated.     significant changes (1)     BioCro:no_leaf_resp_neg_assim_partitioning_growth_calculator now     reduces leaf growth rate response water stress (2)     partitioning modules now include new tissue type (shell). new     component allows us distinguish components soybean pod,     shell represents pericarp grain represents     seed. distinction found important accurately     predicting seed biomass, important agricultural settings     entire pod mass, since pericarp included typical     yield measurements. Due changes, reparameterization     following required: alphaLeaf, alphaRoot,     alphaStem, alphaShell, betaLeaf, betaRoot,     betaStem, betaShell, rateSeneLeaf, rateSeneStem,     alphaSeneLeaf, betaSeneLeaf, alphaSeneStem,     betaSeneStem. also necessary add new direct module     model definition: BioCro:leaf_water_stress_exponential. module     calculates fractional reduction leaf growth rate due water stress.","code":""},{"path":"/reference/soybean.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Soybean-BioCro model definition — soybean","text":"","code":"soybean"},{"path":"/reference/soybean.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Soybean-BioCro model definition — soybean","text":"list 5 named elements suitable passing   run_biocro, described help page   crop_model_definitions.","code":""},{"path":"/reference/soybean.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Soybean-BioCro model definition — soybean","text":"model described detail Matthews et al. (2022)   [doi:10.1093/insilicoplants/diab032 ]. make notes   components: model, ODE solver type     boost_rosenbrock auto (defaults     boost_rosenbrock fixed step size Euler ODE solver     required, case) since integration fail unless     tolerances stringent (e.g., output_step_size = 0.01,     adaptive_rel_error_tol = 1e-9, adaptive_abs_error_tol = 1e-9). initial total seed mass per land area, use following     equation: Number seeds per meter * weight per seed / row spacing.     number seeds per meter 20 row spacing 0.38 m,     reported Morgan et al. (2004) [doi:10.1104/pp.104.043968 ].     weight per seed based average .12 .18 grams, reported     Feedipedia. Thus,     initial biomass     (20 seeds / m) * (0.15 g / seed) / (0.38 m) = 7.89 g / m^2,     equivalent 0.0789 Mg / ha typical BioCro units. Since     model seed component, value used determine     initial Leaf, Stem, Root biomass, assuming 80%     leaf, 10% stem, 10% root. historical reasons, seed tissue model called     Grain. entire pod biomass can calculated adding     Grain Shell biomass. historical reasons, model includes Rhizome tissue.     Soybean rhizome, rhizome model grow     senesce. achieve , kRhizome_emr     rateSeneRhizome parameters must set 0. also necessary     specify values several quantities alphaSeneRhizome,     betaSeneRhizome, initial rhizome mass, although actual     values quantities effect simulation output. historical reasons, modules define Soybean-BioCro     require input quantities actually used calculations;     \"extraneous\" parameters identified data/soybean.R. sowing_time input     soybean_development_rate_calculator module set 0     Soybean-BioCro uses weather data set sowing time. words,     weather data truncated begins sowing date.","code":""},{"path":[]},{"path":"/reference/soybean_clock.html","id":null,"dir":"Reference","previous_headings":"","what":"Soybean-BioCro circadian clock model definition — soybean_clock","title":"Soybean-BioCro circadian clock model definition — soybean_clock","text":"Initial values, parameters, direct modules, differential modules,   differential equation solver can used run soybean circadian clock   simulations Champaign, Illinois locations. Along soybean   growth specifications (soybean), values define soybean   growth model Matthews et al. (2022)   [doi:10.1093/insilicoplants/diab032 ], commonly referred   Soybean-BioCro. represent soybean circadian clock Champaign, Illinois, values   must paired weather data cmi_weather_data.","code":""},{"path":"/reference/soybean_clock.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Soybean-BioCro circadian clock model definition — soybean_clock","text":"","code":"soybean_clock"},{"path":"/reference/soybean_clock.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Soybean-BioCro circadian clock model definition — soybean_clock","text":"list 5 named elements suitable passing   run_biocro, described help page   crop_model_definitions.","code":""},{"path":"/reference/soybean_clock.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Soybean-BioCro circadian clock model definition — soybean_clock","text":"model described detail Matthews et al. (2022)   [doi:10.1093/insilicoplants/diab032 ] Lochocki & McGrath (2021)   [doi:10.1093/insilicoplants/diab016 ]. , use initial phases dawn dusk oscillators 200.0   80.0 radians, respectively. values optimized   simulations beginning midnight January 1, require minimal   time transient signals die . values determined   running simulation one year starting January 1, recording   oscillator states end December 31.","code":""},{"path":[]},{"path":"/reference/system_derivatives.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Derivatives for Differential Quantities — system_derivatives","title":"Calculate Derivatives for Differential Quantities — system_derivatives","text":"Solving BioCro model using one R's available differential equation   solvers","code":""},{"path":"/reference/system_derivatives.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Derivatives for Differential Quantities — system_derivatives","text":"","code":"system_derivatives(   parameters = list(),   drivers,   direct_module_names = list(),   differential_module_names = list() )"},{"path":"/reference/system_derivatives.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Derivatives for Differential Quantities — system_derivatives","text":"parameters Identical corresponding argument run_biocro. drivers Identical corresponding argument run_biocro. direct_module_names Identical corresponding argument run_biocro. differential_module_names Identical corresponding argument run_biocro.","code":""},{"path":"/reference/system_derivatives.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Derivatives for Differential Quantities — system_derivatives","text":"system_derivatives accepts input arguments  run_biocro exceptions ode_solver  initial_values; function intended passed ODE solver   R, solve system's time dependence diffferential   quantities evolve initial values, ode_solver  initial_values required . return value system_derivatives function three inputs   (t, differential_quantities, parms) returns   derivatives differential quantities dynamical system   determined original inputs (parameters, drivers,  direct_module_names,  differential_module_names). function signature requirements inputs set  LSODES function deSolve package. t input   single time value differential_quantities input   vector names differential quantities defined   modules. parms required LSODES, use   anything. function can passed LSODES alternative integration   method, rather using one BioCro's built-solvers. using one pre-defined crop growth models, may helpful   use command pass arguments system_derivatives;   see documentation crop_model_definitions   information.","code":""},{"path":[]},{"path":"/reference/system_derivatives.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate Derivatives for Differential Quantities — system_derivatives","text":"","code":"# Example 1: calculating a single derivative using a soybean model  soybean_system <- system_derivatives(   soybean$parameters,   soybean_weather$'2002',   soybean$direct_modules,   soybean$differential_modules )  derivs <- soybean_system(0, unlist(soybean$initial_values), NULL)  # Example 2: a simple oscillator with only one module (requires deSolve)  if (FALSE) {  times = seq(0, 5, length=100)  oscillator_system_derivatives <- system_derivatives(   list(     timestep = 1,     mass = 1,     spring_constant = 1   ),   data.frame(time=times),   c(),   'BioCro:harmonic_oscillator' )  result <- as.data.frame(deSolve::lsodes(   c(position=0, velocity=1),   times,   oscillator_system_derivatives ))  lattice::xyplot(   position + velocity ~ time,   type='l',   auto=TRUE,   data=result ) }  # Example 3: solving 500 hours of a soybean simulation. This requires the # deSolve package and will run very slow compared to a regular call to # `run_biocro`.  if (FALSE) {  soybean_system <- system_derivatives(   soybean$parameters,   soybean_weather$'2002',   soybean$direct_modules,   soybean$differential_modules )  times = seq(from=0, to=500, by=1)  result <- as.data.frame(deSolve::lsodes(unlist(soybean$initial_values), times, soybean_system))  lattice::xyplot(Leaf + Stem ~ time, type='l', auto=TRUE, data=result) }"},{"path":"/reference/test_module.html","id":null,"dir":"Reference","previous_headings":"","what":"Run BioCro module test cases — test_module","title":"Run BioCro module test cases — test_module","text":"Modules can tested using test cases, sets known outputs   correspond particular inputs. functions provide ways create   test cases test modules. test_module runs one test case module, returning error message   output match expected value. case helps define test cases module testing combining   required elements list correct names required   test_module. cases_from_csv helps define test cases module testing creating   list test cases csv file.","code":""},{"path":"/reference/test_module.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run BioCro module test cases — test_module","text":"","code":"test_module(module_name, case_to_test)    case(inputs, expected_outputs, description)    cases_from_csv(module_name, directory)"},{"path":"/reference/test_module.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run BioCro module test cases — test_module","text":"module_name string specifying one BioCro module, formatted like     library_name:local_module_name, library_name name     library contains module local name     local_module_name; fully-qualified module names can formed     manually module_paste. case_to_test list three named elements describe module test case: inputs: list module inputs, .e., list named             numeric elements corresponding module's input quantities. expected_outputs: list expected module outputs, .e.,             list named numeric elements corresponding expected values             module's output quantities. description: string describing test case, e.g.             \"temp tbase\". description succinct             contain newline characters.  inputs See corresponding entry test_case . expected_outputs See corresponding entry test_case . description See corresponding entry test_case . directory directory module test case files stored, e.g.     file.path('tests', 'module_test_cases')","code":""},{"path":"/reference/test_module.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Run BioCro module test cases — test_module","text":"test_module function forms basis BioCro module testing   system. (See module_testing information.) functions   case cases_from_csv complementary test_module   help pass suitably-formatted test cases test_module.","code":""},{"path":"/reference/test_module.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Run BioCro module test cases — test_module","text":"test_module test passes, empty string; otherwise, informative message     went wrong. case list three named elements (inputs, expected_outputs,     description) formed input arguments. cases_from_csv list test cases created case function     suitable passing test_module function.","code":""},{"path":[]},{"path":"/reference/test_module.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Run BioCro module test cases — test_module","text":"","code":"# Example 1: Defining an individual test case for the 'BioCro' module library's # 'thermal_time_linear' module and running the test. This test will pass, so the # return value will be an empty string: `character(0)` test_module(   'BioCro:thermal_time_linear',   case(     list(time = 101, sowing_time = 100, tbase = 20, temp = 44),     list(TTc = 1.0),     'temp above tbase'   ) ) #> character(0)  # Example 2: Defining an individual test case for the 'BioCro' module library's # 'thermal_time_linear' module and running the test. This test will fail, so the # return value will be a message indicating the failure. test_module(   'BioCro:thermal_time_linear',   case(     list(time = 101, sowing_time = 100, tbase = 20, temp = 44),     list(TTc = 2.0),     'temp above tbase'   ) ) #> [1] \"Module `BioCro:thermal_time_linear` test case `temp above tbase`: calculated outputs do not match expected outputs\"  # Example 3: Loading a set of test cases from a file and running one of them. # Note: here we use the `initialize_csv` function first to ensure that there is # a properly defined test file in the current directory.  if (FALSE) {  module_name <- 'BioCro:thermal_time_linear' initialize_csv(module_name, '.') cases <- cases_from_csv(module_name, '.') test_module(module_name, cases[[1]]) }"},{"path":"/reference/test_module_library.html","id":null,"dir":"Reference","previous_headings":"","what":"Run module test cases for an entire BioCro module library — test_module_library","title":"Run module test cases for an entire BioCro module library — test_module_library","text":"Modules can tested using test cases, sets known outputs   correspond particular inputs. test_module_library function   provides way run test cases modules BioCro module   library.","code":""},{"path":"/reference/test_module_library.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run module test cases for an entire BioCro module library — test_module_library","text":"","code":"test_module_library(library_name, directory, modules_to_skip = c())"},{"path":"/reference/test_module_library.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run module test cases for an entire BioCro module library — test_module_library","text":"library_name name BioCro module library. directory directory module test case files stored, e.g.     file.path('tests', 'module_test_cases') modules_to_skip vector local module name strings indicating modules     library tested. feature used sparingly,     since legitimate reasons skip module test.","code":""},{"path":"/reference/test_module_library.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Run module test cases for an entire BioCro module library — test_module_library","text":"module specified library, test_module_library loads   stored test cases specified directory runs test case,   storing information test failures issues may occur.   problems detected, test_module_library throws error   message describing issues. example function can used along   testthat package, see   tests/testthat/test.Modules.R.","code":""},{"path":[]},{"path":"/reference/willow.html","id":null,"dir":"Reference","previous_headings":"","what":"Willow model definition — willow","title":"Willow model definition — willow","text":"Initial values, parameters, direct modules, differential modules,   differential equation solver can used run willow growth   simulations Champaign, Illinois locations. represent willow growth Champaign, IL, values must paired   Champaign weather data (cmi_weather_data). parameters   already include clay_loam values   soil_parameters dataset, appropriate soil type   Champaign. specifications, values photosynthetic parameters,   remain location; others, latitude longitude,   need change simulating crop growth different locations. Care   must taken understand input quantity attempting run   simulations places cultivars.","code":""},{"path":"/reference/willow.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Willow model definition — willow","text":"","code":"willow"},{"path":"/reference/willow.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Willow model definition — willow","text":"list 5 named elements suitable passing   run_biocro, described help page   crop_model_definitions.","code":""},{"path":"/reference/willow.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Willow model definition — willow","text":"model originally described Wang et al. (2015)   [doi:10.1111/pce.12556 ]. Since original parameterization, behavior   several core modules changed bugs identified   fixed, model likely needs reparameterized can used   realistic simulations.","code":""},{"path":[]},{"path":[]},{"path":"/news/index.html","id":"major-changes-2-0-0","dir":"Changelog","previous_headings":"","what":"MAJOR CHANGES","title":"CHANGES IN BioCro VERSION 2.0.0","text":"Make easier reuse modules species, C3 photosynthesis modules. Make easier swap related modules comparison, example, comparing Farquhar-von-Caemmerer-Berry model radiation use efficiency model. Simplify parameter optimization sensitivity analysis providing interface readily useable common optimizers similar functions. Practical Guide BioCro Quantitative Comparison Two Photosynthesis Models Introduction BioCro Want Add Models","code":""},{"path":"/news/index.html","id":"biocro-version-0951","dir":"Changelog","previous_headings":"","what":"BioCro VERSION 0.951","title":"BioCro VERSION 0.951","text":"last release original version BioCro, first described Miguez et al., 2009 updated years add crop models R functions. full change log version previous versions available document.","code":""}]
